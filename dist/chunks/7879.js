(self.webpackChunkweb_appedashi = self.webpackChunkweb_appedashi || []).push([
    [7879], {
        94902: (e, t, r) => {
            "use strict";
            var n = r(55253);
            t.DF = {
                prefix: n.prefix,
                iconName: n.iconName,
                icon: [n.width, n.height, n.aliases, n.unicode, n.svgPathData]
            }, t.G1 = t.DF, n.prefix, n.iconName, n.width, n.height, n.aliases, n.unicode, n.svgPathData, n.aliases
        },
        55253: (e, t) => {
            "use strict";
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var r = "boxes-stacked",
                n = [62625, "boxes", "boxes-alt"],
                a = "f468",
                l = "M248 0L208 0c-26.5 0-48 21.5-48 48l0 112c0 35.3 28.7 64 64 64l128 0c35.3 0 64-28.7 64-64l0-112c0-26.5-21.5-48-48-48L328 0l0 80c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-80zM64 256c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l160 0c35.3 0 64-28.7 64-64l0-128c0-35.3-28.7-64-64-64l-40 0 0 80c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-80-40 0zM352 512l160 0c35.3 0 64-28.7 64-64l0-128c0-35.3-28.7-64-64-64l-40 0 0 80c0 8.8-7.2 16-16 16l-48 0c-8.8 0-16-7.2-16-16l0-80-40 0c-15 0-28.8 5.1-39.7 13.8c4.9 10.4 7.7 22 7.7 34.2l0 160c0 12.2-2.8 23.8-7.7 34.2C323.2 506.9 337 512 352 512z";
            t.definition = {
                prefix: "fas",
                iconName: r,
                icon: [576, 512, n, a, l]
            }, t.faBoxesStacked = t.definition, t.prefix = "fas", t.iconName = r, t.width = 576, t.height = 512, t.ligatures = n, t.unicode = a, t.svgPathData = l, t.aliases = n
        },
        96914: (e, t) => {
            "use strict";
            var r = "chart-line",
                n = ["line-chart"],
                a = "f201",
                l = "M64 64c0-17.7-14.3-32-32-32S0 46.3 0 64L0 400c0 44.2 35.8 80 80 80l400 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 416c-8.8 0-16-7.2-16-16L64 64zm406.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L320 210.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L240 221.3l57.4 57.4c12.5 12.5 32.8 12.5 45.3 0l128-128z";
            t.DF = {
                prefix: "fas",
                iconName: r,
                icon: [512, 512, n, a, l]
            }, t.St = t.DF
        },
        97798: (e, t) => {
            "use strict";
            var r = "ellipsis-vertical",
                n = ["ellipsis-v"],
                a = "f142",
                l = "M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z";
            t.DF = {
                prefix: "fas",
                iconName: r,
                icon: [128, 512, n, a, l]
            }, t.Uw = t.DF
        },
        38252: (e, t) => {
            "use strict";
            var r = "grip-vertical",
                n = [],
                a = "f58e",
                l = "M40 352l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zm192 0l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zM40 320c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0zM232 192l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40zM40 160c-22.1 0-40-17.9-40-40L0 72C0 49.9 17.9 32 40 32l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0zM232 32l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40z";
            t.DF = {
                prefix: "fas",
                iconName: r,
                icon: [320, 512, n, a, l]
            }, t.g$ = t.DF
        },
        2293: (e, t) => {
            "use strict";
            var r = "receipt",
                n = [129534],
                a = "f543",
                l = "M14 2.2C22.5-1.7 32.5-.3 39.6 5.8L80 40.4 120.4 5.8c9-7.7 22.3-7.7 31.2 0L192 40.4 232.4 5.8c9-7.7 22.3-7.7 31.2 0L304 40.4 344.4 5.8c7.1-6.1 17.1-7.5 25.6-3.6s14 12.4 14 21.8l0 464c0 9.4-5.5 17.9-14 21.8s-18.5 2.5-25.6-3.6L304 471.6l-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L192 471.6l-40.4 34.6c-9 7.7-22.3 7.7-31.2 0L80 471.6 39.6 506.2c-7.1 6.1-17.1 7.5-25.6 3.6S0 497.4 0 488L0 24C0 14.6 5.5 6.1 14 2.2zM96 144c-8.8 0-16 7.2-16 16s7.2 16 16 16l192 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L96 144zM80 352c0 8.8 7.2 16 16 16l192 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L96 336c-8.8 0-16 7.2-16 16zM96 240c-8.8 0-16 7.2-16 16s7.2 16 16 16l192 0c8.8 0 16-7.2 16-16s-7.2-16-16-16L96 240z";
            t.DF = {
                prefix: "fas",
                iconName: r,
                icon: [384, 512, n, a, l]
            }, t.dL = t.DF
        },
        68335: (e, t) => {
            "use strict";
            var r = "store",
                n = [],
                a = "f54e",
                l = "M547.6 103.8L490.3 13.1C485.2 5 476.1 0 466.4 0L109.6 0C99.9 0 90.8 5 85.7 13.1L28.3 103.8c-29.6 46.8-3.4 111.9 51.9 119.4c4 .5 8.1 .8 12.1 .8c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.1 0 49.3-11.4 65.2-29c15.9 17.6 39.1 29 65.2 29c26.2 0 49.3-11.4 65.2-29c16 17.6 39.1 29 65.2 29c4.1 0 8.1-.3 12.1-.8c55.5-7.4 81.8-72.5 52.1-119.4zM499.7 254.9c0 0 0 0-.1 0c-5.3 .7-10.7 1.1-16.2 1.1c-12.4 0-24.3-1.9-35.4-5.3L448 384l-320 0 0-133.4c-11.2 3.5-23.2 5.4-35.6 5.4c-5.5 0-11-.4-16.3-1.1l-.1 0c-4.1-.6-8.1-1.3-12-2.3L64 384l0 64c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-64 0-131.4c-4 1-8 1.8-12.3 2.3z";
            t.DF = {
                prefix: "fas",
                iconName: r,
                icon: [576, 512, n, a, l]
            }, t.vJ = t.DF
        },
        34327: (e, t) => {
            "use strict";
            var r = [127991],
                n = "f02b",
                a = "M0 80L0 229.5c0 17 6.7 33.3 18.7 45.3l176 176c25 25 65.5 25 90.5 0L418.7 317.3c25-25 25-65.5 0-90.5l-176-176c-12-12-28.3-18.7-45.3-18.7L48 32C21.5 32 0 53.5 0 80zm112 32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z";
            t.DF = {
                prefix: "fas",
                iconName: "tag",
                icon: [448, 512, r, n, a]
            }, t.LE = t.DF
        },
        81116: (e, t) => {
            "use strict";
            var r = "user-lock",
                n = [],
                a = "f502",
                l = "M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l362.8 0c-5.4-9.4-8.6-20.3-8.6-32l0-128c0-2.1 .1-4.2 .3-6.3c-31-26-71-41.7-114.6-41.7l-91.4 0zM528 240c17.7 0 32 14.3 32 32l0 48-64 0 0-48c0-17.7 14.3-32 32-32zm-80 32l0 48c-17.7 0-32 14.3-32 32l0 128c0 17.7 14.3 32 32 32l160 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32l0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80z";
            t.DF = {
                prefix: "fas",
                iconName: r,
                icon: [640, 512, n, a, l]
            }, t.FJ = t.DF
        },
        11298: (e, t) => {
            "use strict";
            var r = "user-secret",
                n = [128373],
                a = "f21b",
                l = "M224 16c-6.7 0-10.8-2.8-15.5-6.1C201.9 5.4 194 0 176 0c-30.5 0-52 43.7-66 89.4C62.7 98.1 32 112.2 32 128c0 14.3 25 27.1 64.6 35.9c-.4 4-.6 8-.6 12.1c0 17 3.3 33.2 9.3 48l-59.9 0C38 224 32 230 32 237.4c0 1.7 .3 3.4 1 5l38.8 96.9C28.2 371.8 0 423.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7c0-58.5-28.2-110.4-71.7-143L415 242.4c.6-1.6 1-3.3 1-5c0-7.4-6-13.4-13.4-13.4l-59.9 0c6-14.8 9.3-31 9.3-48c0-4.1-.2-8.1-.6-12.1C391 155.1 416 142.3 416 128c0-15.8-30.7-29.9-78-38.6C324 43.7 302.5 0 272 0c-18 0-25.9 5.4-32.5 9.9c-4.8 3.3-8.8 6.1-15.5 6.1zm56 208l-12.4 0c-16.5 0-31.1-10.6-36.3-26.2c-2.3-7-12.2-7-14.5 0c-5.2 15.6-19.9 26.2-36.3 26.2L168 224c-22.1 0-40-17.9-40-40l0-14.4c28.2 4.1 61 6.4 96 6.4s67.8-2.3 96-6.4l0 14.4c0 22.1-17.9 40-40 40zm-88 96l16 32L176 480 128 288l64 32zm128-32L272 480 240 352l16-32 64-32z";
            t.DF = {
                prefix: "fas",
                iconName: r,
                icon: [448, 512, n, a, l]
            }, t.BC = t.DF
        },
        19933: (e, t, r) => {
            "use strict";
            r.d(t, {
                Z: () => y
            });
            var n = r(4942),
                a = r(15861),
                l = r(54546),
                o = r(68055),
                i = r(76553),
                c = r(64687),
                s = r.n(c),
                u = r(37463),
                m = r(22202),
                d = r(6655),
                w = r(64358),
                p = r(45697),
                f = r.n(p),
                g = r(67294),
                b = r(89250);

            function v(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function E(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? v(Object(r), !0).forEach((function(t) {
                        (0, n.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : v(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var h = function(e) {
                var t, r = e.isTiliaTOSAccepted,
                    n = void 0 === r || r,
                    c = e.returnPath,
                    p = e.termsOfServiceMessage,
                    f = (0, b.TH)(),
                    v = (0, m.XC)(),
                    h = v.data,
                    y = v.isLoading,
                    x = null == h ? void 0 : h.id,
                    N = (0, g.useState)(!1),
                    C = (0, l.Z)(N, 2),
                    S = C[0],
                    k = C[1],
                    P = (0, d.gI)(),
                    O = (0, l.Z)(P, 2),
                    I = O[0],
                    T = O[1],
                    j = (0, b.oQ)("".concat(c).concat(null != f && null !== (t = f.state) && void 0 !== t && t.redirectTo ? "?redirectTo=".concat(encodeURIComponent(f.state.redirectTo)) : ""));
                if (n) return null;
                var D = function() {
                    var e = (0, a.Z)(s().mark((function e(t) {
                        var r, n, a;
                        return s().wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                                case 0:
                                    return t.preventDefault(), k(!0), r = new URL(j, window.location.href), e.next = 5, I(E(E({}, w.$Z.TOS), {}, {
                                        userId: x,
                                        returnUrl: r
                                    })).unwrap();
                                case 5:
                                    n = e.sent, a = n.redirect, window.location.assign(a);
                                case 8:
                                case "end":
                                    return e.stop()
                            }
                        }), e)
                    })));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }();
                return (0, g.useEffect)((function() {
                    (null != T && T.isLoading || y) && k(!0), null != T && T.isError && k(!1)
                }), [T, y]), g.createElement("div", {
                    className: "tw-flex tw-flex-col sm:tw-flex-row tw-bg-warning-bg tw-rounded-lg tw-border-orange tw-border-solid tw-border-0 tw-border-l-4 tw-mb-4 tw-p-3 tw-justify-between tw-items-center"
                }, g.createElement("div", {
                    className: "tw-flex tw-flex-row"
                }, g.createElement(u.$1, {
                    icon: i.eH,
                    size: "1x",
                    className: "tw-text-orange tw-mt-1 tw-mr-2"
                }), g.createElement("div", {
                    className: "tw-flex tw-flex-col tw-justify-start tw-items-start"
                }, g.createElement("h2", {
                    className: "tw-text-xl"
                }, "Update to the Tilia Terms of Service"), g.createElement("p", {
                    className: "tw-mb-0 tw-text-base"
                }, p))), g.createElement("div", {
                    className: "tw-h-full tw-flex tw-flex-col tw-justify-center tw-mt-4 sm:tw-mt-0"
                }, g.createElement(u.zx, {
                    icon: o.LE,
                    onClick: function(e) {
                        return D(e)
                    },
                    className: "tw-bg-white tw-border-white tw-text-[#1A2026]",
                    loading: S,
                    disabled: S
                }, "Review Tilia's Terms")))
            };
            h.propTypes = {
                isTiliaTOSAccepted: f().bool,
                returnPath: f().string,
                termsOfServiceMessage: f().string.isRequired
            };
            const y = h
        },
        22717: (e, t, r) => {
            "use strict";
            r.r(t), r.d(t, {
                default: () => h
            });
            var n = r(15861),
                a = r(54546),
                l = r(76553),
                o = r(6811),
                i = r(64687),
                c = r.n(i),
                s = r(64258),
                u = r(37463),
                m = r(98185),
                d = r(22202),
                w = r(93261),
                p = r(16869),
                f = r(45697),
                g = r.n(f),
                b = r(67294),
                v = r(32981),
                E = function(e) {
                    var t = e.listingId,
                        r = void 0 === t ? null : t,
                        i = e.onCancelCallback,
                        f = void 0 === i ? function() {} : i;
                    if (null === r) return null;
                    var g = (0, v.I0)(),
                        E = ((0, d.XC)().data, (0, b.useState)(null)),
                        h = (0, a.Z)(E, 2),
                        y = (h[0], h[1]),
                        x = (0, b.useState)(null),
                        N = (0, a.Z)(x, 2),
                        C = N[0],
                        S = N[1],
                        k = (0, b.useState)(null),
                        P = (0, a.Z)(k, 2),
                        O = P[0],
                        I = P[1],
                        T = (0, p.mr)({
                            listingId: r,
                            hydrateProducts: !0
                        }),
                        j = T.data,
                        D = T.isLoading,
                        Z = (T.isError, T.error, (0, w.nz)()),
                        L = (0, a.Z)(Z, 2),
                        A = L[0],
                        F = L[1],
                        z = F.data,
                        X = F.isLoading,
                        M = (F.isError, F.error, (0, w.VF)()),
                        R = (0, a.Z)(M, 2),
                        U = R[0],
                        J = R[1];
                    J.isLoading, J.isError, J.error;
                    (0, b.useEffect)((function() {
                        if (j && (S(j), j.hydratedProducts)) {
                            var e = j.products.find((function(e) {
                                return e.groupRoleId
                            }));
                            y(e), I(e.groupRoleId), A({
                                groupId: j.groupId
                            })
                        }
                    }), [j]);
                    var G = function() {
                        var e = (0, n.Z)(c().mark((function e() {
                            var t, r, n;
                            return c().wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (O && z && j) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return t = function(e) {
                                            g((0, s.d)({
                                                title: "Listing deleted successfully!",
                                                icon: o.f8,
                                                message: "Your listing has been deleted successfully!",
                                                color: "success",
                                                timeout: 3e3
                                            })), f()
                                        }, e.prev = 3, e.next = 6, U({
                                            groupId: z.id,
                                            roleId: O,
                                            ownerId: z.ownerId,
                                            confirm: !0
                                        }).unwrap();
                                    case 6:
                                        t(), e.next = 13;
                                        break;
                                    case 9:
                                        e.prev = 9, e.t0 = e.catch(3), console.error("error", e.t0), g((0, s.d)({
                                            title: "Failed to delete listing!",
                                            icon: l.eH,
                                            message: null !== (r = null === (n = e.t0.data) || void 0 === n || null === (n = n.error) || void 0 === n ? void 0 : n.message) && void 0 !== r ? r : "Something went wrong",
                                            color: "danger",
                                            timeout: 3e3
                                        }));
                                    case 13:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [3, 9]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                    return b.createElement(u.JX, {
                        className: "tw-w-full"
                    }, b.createElement(m.Z, {
                        loading: D || X
                    }, b.createElement("p", null, b.createElement("strong", null, "Are you sure you want to delete this subscription? This is NOT reversible.")), b.createElement("p", null, "In order to delete this subscription, verify the following."), b.createElement("ul", {
                        className: "tw-bg-grey tw-rounded tw-py-3 tw-gap-2"
                    }, b.createElement("li", null, "There are no active subscribers to this subscription."), b.createElement("li", null, "The subscription listing is in draft mode."), b.createElement("li", null, "This listing must not contain any other products other than the role it's related to.")), b.createElement(u.X2, {
                        className: "tw-gap-2"
                    }, b.createElement(u.zx, {
                        onClick: f,
                        type: "button",
                        containerClasses: "tw-flex-1",
                        neutral: !0
                    }, "Cancel"), b.createElement(u.zx, {
                        onClick: G,
                        type: "button",
                        containerClasses: "tw-flex-1",
                        danger: !0,
                        disabled: (null == C ? void 0 : C.active) || (null == C ? void 0 : C.products.length) > 1
                    }, "Delete"))))
                };
            E.propTypes = {
                listing: g().object,
                onCancelCallback: g().func
            };
            const h = E
        },
        36078: (e, t, r) => {
            "use strict";
            r.d(t, {
                Z: () => w
            });
            var n = r(42138),
                a = r(54546),
                l = r(42619),
                o = r(38252),
                i = r(37463),
                c = r(51806),
                s = r.n(c),
                u = r(95896),
                m = r(17383),
                d = r(67294);
            const w = function(e) {
                var t = e.products,
                    r = void 0 === t ? [] : t,
                    c = e.associatedProduct,
                    w = e.existingProducts,
                    p = void 0 === w ? [] : w,
                    f = e.onDataChange,
                    g = void 0 === f ? function() {} : f,
                    b = e.onAddedProducts,
                    v = void 0 === b ? function() {} : b,
                    E = d.useState(""),
                    h = (0, a.Z)(E, 2),
                    y = h[0],
                    x = h[1],
                    N = d.useState(p || []),
                    C = (0, a.Z)(N, 2),
                    S = C[0],
                    k = C[1],
                    P = d.useState(!1),
                    O = (0, a.Z)(P, 2),
                    I = O[0],
                    T = O[1],
                    j = (0, d.useRef)(null),
                    D = (0, m.Nr)(y);
                d.useEffect((function() {
                    g({
                        products: S.map((function(e) {
                            return e.id
                        }))
                    }), v(S)
                }), [S]);
                var Z = function(e) {
                    j.current && !j.current.contains(e.target) && T(!1)
                };
                (0, d.useEffect)((function() {
                    return document.addEventListener("mousedown", Z),
                        function() {
                            document.removeEventListener("mousedown", Z)
                        }
                }), []);
                var L = function(e) {
                        e.preventDefault()
                    },
                    A = d.useMemo((function() {
                        if (!r) return [];
                        var e = S.map((function(e) {
                            return e.id
                        }));
                        return r.filter((function(t) {
                            return !(null != e && e.includes(t.id)) && t.productType !== u.Pm.ROLE && (!D || (t.id.toLowerCase().includes(D.trim().toLowerCase()) || t.displayName.toLowerCase().includes(D.trim().toLowerCase())))
                        })) || []
                    }), [S, r, D]);
                return d.createElement(i.JX, {
                    className: "tw-@container/add-products tw-relative tw-z-10"
                }, d.createElement("p", null, "Reward your subscribers by granting them access to exclusive products for the duration of their subscription.", " ", d.createElement("a", {
                    href: "https://creators.vrchat.com/economy/products/paid-role",
                    target: "_blank",
                    rel: "noreferrer"
                }, "Learn More")), d.createElement(i.JX, {
                    className: "tw-mb-5",
                    ref: j
                }, d.createElement(i.II, {
                    className: "tw-mb-2",
                    value: y,
                    onChange: function(e) {
                        return x(e.target.value)
                    },
                    onFocus: function() {
                        T(!0)
                    },
                    disabled: S.length >= u._1
                }), d.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, "Up to ", u._1, " products can be added"), I && S.length < u._1 && d.createElement("div", {
                    role: "list",
                    "aria-label": "Available Products List",
                    className: "tw-bottom-[120px] tw-border-2 tw-border-solid tw-rounded-lg tw-border-button-bg tw-bg-[#07242B] tw-p-5 tw-gap-3 tw-h-[350px] tw-overflow-y-auto tw-absolute tw-z-10 tw-w-full sm:tw-top-[135px]"
                }, d.createElement("label", {
                    className: "tw-mb-3"
                }, "Available Products"), A.length ? A.map((function(e) {
                    return d.createElement(d.Fragment, {
                        key: e.id
                    }, d.createElement(i.X2, {
                        product: e,
                        className: "tw-gap-3 tw-flex-wrap"
                    }, d.createElement(i.pw, {
                        imageId: null == e ? void 0 : e.imageId,
                        alt: null == e ? void 0 : e.displayName,
                        fallbackSrc: s(),
                        width: 100
                    }), d.createElement(i.JX, {
                        className: "tw-flex-1"
                    }, d.createElement("p", {
                        className: "tw-mb-0 tw-font-bold"
                    }, e.displayName), d.createElement("p", {
                        className: "tw-mb-0 tw-text-placeholder-text"
                    }, e.description)), d.createElement(i.zx, {
                        type: "button",
                        containerClasses: "tw-w-full @sm/add-products:tw-w-[160px] tw-self-center",
                        onClick: function(t) {
                            var r;
                            r = e, k([].concat((0, n.Z)(S), [r])), T(!1), x("")
                        }
                    }, "Add")), d.createElement("hr", {
                        className: "tw-bg-[#07242B] tw-font-medium tw-border-2 tw-border-solid"
                    }))
                })) : d.createElement("div", null, d.createElement("em", null, "No matching products!")))), d.createElement(i.JX, {
                    className: "tw-gap-2 tw-mb-2 tw-min-h-[100px]"
                }, 0 !== S.length && d.createElement("label", null, "Added Products"), 0 !== S.length && S.map((function(e, t) {
                    return d.createElement(i.X2, {
                        key: e.id,
                        draggable: !0,
                        onDragStart: function(e) {
                            return function(e, t) {
                                e.dataTransfer.setData("index", t)
                            }(e, t)
                        },
                        onDragOver: L,
                        onDrop: function(e) {
                            return function(e, t) {
                                var r = e.dataTransfer.getData("index"),
                                    n = Array.from(S),
                                    l = n.splice(r, 1),
                                    o = (0, a.Z)(l, 1)[0];
                                n.splice(t, 0, o), k(n)
                            }(e, t)
                        },
                        className: "tw-px-5 tw-py-3 tw-gap-5 tw-items-center tw-bg-grey tw-rounded-lg"
                    }, d.createElement(i.$1, {
                        icon: o.g$
                    }), d.createElement(i.X2, {
                        className: "tw-items-center tw-gap-2 tw-flex-1"
                    }, d.createElement(i.pw, {
                        imageId: null == e ? void 0 : e.imageId,
                        alt: null == e ? void 0 : e.displayName,
                        fallbackSrc: s(),
                        width: 36
                    }), d.createElement("label", {
                        className: "tw-font-bold"
                    }, e.displayName)), (null == e ? void 0 : e.id) !== (null == c ? void 0 : c.id) && d.createElement(i.zx, {
                        type: "button",
                        onClick: function() {
                            return k(S.filter((function(t) {
                                return t.id !== e.id
                            })))
                        },
                        neutral: !0,
                        className: "tw-w-9 tw-h-9"
                    }, d.createElement(i.$1, {
                        icon: l.$
                    })))
                }))))
            }
        },
        44062: (e, t, r) => {
            "use strict";
            r.r(t), r.d(t, {
                default: () => V
            });
            var n = r(15861),
                a = r(4942),
                l = r(54546),
                o = r(76553),
                i = r(6811),
                c = r(64687),
                s = r.n(c),
                u = r(64258),
                m = r(37463),
                d = r(98185),
                w = r(95896),
                p = r(22202),
                f = r(16869),
                g = r(67978),
                b = r(45697),
                v = r.n(b),
                E = r(67294),
                h = r(32981),
                y = r(89250),
                x = r(79655),
                N = r(36078),
                C = r(45987),
                S = r(41145),
                k = r(62228),
                P = r(78076),
                O = r(51806),
                I = r.n(O),
                T = r(93261),
                j = ["file", "imageId"],
                D = ["file"],
                Z = ["imageId"];

            function L(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function A(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? L(Object(r), !0).forEach((function(t) {
                        (0, a.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : L(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var F = function(e) {
                var t = e.listing,
                    r = e.onDataChange,
                    n = void 0 === r ? function() {} : r,
                    o = e.onEditProducts,
                    i = void 0 === o ? function() {} : o,
                    c = e.productList,
                    s = E.useState({}),
                    u = (0, l.Z)(s, 2),
                    w = u[0],
                    p = u[1],
                    f = E.useState(!1),
                    g = (0, l.Z)(f, 2),
                    b = g[0],
                    v = g[1],
                    h = E.useState((null == t ? void 0 : t.file) || (null == t ? void 0 : t.imageId) || null),
                    y = (0, l.Z)(h, 2),
                    x = y[0],
                    N = y[1],
                    O = E.useState(!1),
                    L = (0, l.Z)(O, 2),
                    F = L[0],
                    z = L[1],
                    X = c || [],
                    M = (null == t ? void 0 : t.displayName) || "",
                    R = E.useState(M),
                    U = (0, l.Z)(R, 2),
                    J = U[0],
                    G = U[1],
                    q = (null == t ? void 0 : t.description) || "",
                    B = E.useState(q),
                    $ = (0, l.Z)(B, 2),
                    V = $[0],
                    _ = $[1],
                    W = (0, T.r5)({
                        groupId: t.groupId
                    }, {
                        skip: !t.groupId
                    }),
                    Y = W.data,
                    Q = W.isFetching,
                    H = W.isSuccess,
                    K = W.isError;
                E.useEffect((function() {
                    n(w)
                }), [w]);
                var ee = function(e) {
                    var t = e.target,
                        r = t.name,
                        n = t.value;
                    switch (p((function(e) {
                            return A(A({}, e), {}, (0, a.Z)({}, r, n))
                        })), r) {
                        case "displayName":
                            G(n);
                            break;
                        case "description":
                            _(n);
                            break;
                        case "priceTokens":
                            setPriceTokens(n);
                            break;
                        case "listingVariants":
                            setListingVariants(n)
                    }
                };
                return E.createElement(E.Fragment, null, E.createElement(m.JX, {
                    className: "tw-@container/subInfo tw-gap-4"
                }, E.createElement(m.JX, {
                    className: "@sm/subInfo:tw-flex-row tw-gap-4"
                }, E.createElement("button", {
                    type: "button",
                    onClick: function() {
                        v(!0)
                    },
                    className: "tw-bg-transparent tw-border-0 tw-p-0 tw-rounded tw-relative tw-items-center tw-justify-center tw-flex"
                }, !x && E.createElement(m.zx, {
                    containerClasses: "tw-rounded tw-absolute tw-flex-1"
                }, E.createElement(m.$1, {
                    icon: P.Vm,
                    className: "tw-mr-2"
                }), E.createElement("span", null, "Upload Thumbnail")), E.createElement(m.pw, {
                    imageId: x,
                    fitToCover: !0,
                    alt: "Subscription Thumbnail",
                    width: 285,
                    className: "tw-bg-grey tw-text-[#404C58]"
                })), E.createElement(m.JX, {
                    className: "tw-gap-5 flex-1"
                }, E.createElement(m.JX, {
                    className: "tw-gap-2"
                }, E.createElement("label", {
                    htmlFor: "displayName"
                }, "Display Name"), E.createElement(m.II, {
                    name: "displayName",
                    type: "text",
                    onChange: ee,
                    maxLength: 64,
                    value: J
                }), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, J.length, "/64")), E.createElement(m.JX, {
                    className: "tw-gap-2"
                }, E.createElement("label", {
                    htmlFor: "description"
                }, "Description"), E.createElement(m.gx, {
                    name: "description",
                    onChange: ee,
                    value: V,
                    maxLength: 256,
                    inputClassName: "tw-h-[135px]"
                }), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, V.length, "/256")))), E.createElement(m.JX, null, E.createElement("label", {
                    htmlFor: "id",
                    className: "tw-mb-2"
                }, "Associated Group"), E.createElement(d.Z, {
                    loading: Q
                }, H && E.createElement(m.X2, null, E.createElement(m.pw, {
                    imageId: null == Y ? void 0 : Y.imageId,
                    alt: null == Y ? void 0 : Y.displayName,
                    fallbackSrc: I(),
                    fitToCover: !0,
                    className: "tw-h-7 tw-w-7 tw-mr-2"
                }), E.createElement("p", {
                    className: "tw-font-bold"
                }, null == Y ? void 0 : Y.name)), K && E.createElement("div", null, E.createElement("p", {
                    className: "tw-font-bold"
                }, t.groupId)))), E.createElement(m.JX, null, E.createElement("label", {
                    htmlFor: "id",
                    className: "tw-mb-2"
                }, "Associated Products ", X.length > 0 && "(".concat(X.length, ")")), 0 === X.length && E.createElement("p", {
                    className: "tw-text-placeholder-text tw-mb-0"
                }, "None"), X.length > 0 && E.createElement(m.JX, null, E.createElement("div", {
                    className: "tw-gap-2 tw-w-full tw-grid tw-grid-cols-2 tw-mb-3"
                }, (F ? X : X.slice(0, 6)).map((function(e) {
                    return E.createElement(m.X2, {
                        key: e.id,
                        className: "tw-items-center tw-gap-2 tw-flex-1"
                    }, E.createElement(m.pw, {
                        imageId: null == e ? void 0 : e.imageId,
                        alt: null == e ? void 0 : e.displayName,
                        fallbackSrc: I(),
                        fitToCover: !0,
                        className: "tw-h-7 tw-w-7"
                    }), E.createElement("p", {
                        className: "tw-font-bold tw-mb-0"
                    }, null == e ? void 0 : e.displayName, " (", E.createElement("span", {
                        className: "tw-capitalize"
                    }, null == e ? void 0 : e.productType), ")"))
                }))), X.length > 6 && E.createElement(m.X2, {
                    className: "tw-items-center tw-gap-2"
                }, E.createElement("button", {
                    type: "button",
                    onClick: function() {
                        return z(!F)
                    },
                    className: "tw-mb-0 tw-appearance-none tw-bg-transparent tw-border-none tw-text-light-grey"
                }, F ? "Show Less " : "Show all products ", F ? E.createElement(m.$1, {
                    icon: k.mT
                }) : E.createElement(m.$1, {
                    icon: S.pt
                }))))), E.createElement(m.zx, {
                    type: "button",
                    onClick: i,
                    className: "tw-w-full",
                    containerClasses: "tw-max-w-[210px]"
                }, "Manage Products")), E.createElement(m.m6, {
                    preset: "subscription",
                    image: x,
                    isOpen: b,
                    onClose: function() {
                        return v(!1)
                    },
                    confirmCallback: function(e) {
                        var t = e.fileId,
                            r = void 0 === t ? null : t,
                            n = e.fileBlob,
                            a = void 0 === n ? null : n,
                            l = null !== r;
                        return null === r && null === a ? (N(null), void p((function(e) {
                            e.file, e.imageId;
                            return (0, C.Z)(e, j)
                        }))) : l ? (N(r), void p((function(e) {
                            e.file;
                            var t = (0, C.Z)(e, D);
                            return A({
                                imageId: r
                            }, t)
                        }))) : (N(a), void p((function(e) {
                            e.imageId;
                            var t = (0, C.Z)(e, Z);
                            return A({
                                file: a
                            }, t)
                        })))
                    },
                    cancelCallBack: function() {
                        return v(!1)
                    }
                }))
            };
            F.propTypes = {
                listing: v().object.isRequired,
                onDataChange: v().func
            };
            const z = F;
            var X = r(25062),
                M = ["currentUnitPriceTokens"];

            function R(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function U(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? R(Object(r), !0).forEach((function(t) {
                        (0, a.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : R(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var J = function(e) {
                var t = e.listing,
                    r = e.onDataChange,
                    n = void 0 === r ? function() {} : r,
                    o = e.validateVariants,
                    i = void 0 === o ? function() {} : o;
                if (!t) return null;
                var c = E.useState({}),
                    s = (0, l.Z)(c, 2),
                    u = s[0],
                    d = s[1],
                    p = (null == t ? void 0 : t.priceTokens) || ((null == t ? void 0 : t.productType) === w.Pm.LISTING ? w.zD : void 0),
                    f = E.useState(p),
                    g = (0, l.Z)(f, 2),
                    b = g[0],
                    v = g[1],
                    h = (null == t ? void 0 : t.listingVariants) || [],
                    y = E.useState(w.PN.map((function(e) {
                        return h.find((function(t) {
                            return t.quantity === e
                        })) || {
                            quantity: e
                        }
                    }))),
                    x = (0, l.Z)(y, 2),
                    N = x[0],
                    S = x[1],
                    k = (null == t ? void 0 : t.duration) || 1,
                    P = E.useState(k),
                    O = (0, l.Z)(P, 2),
                    I = O[0],
                    T = (O[1], (null == t ? void 0 : t.durationType) || "months"),
                    j = E.useState(T),
                    D = (0, l.Z)(j, 2),
                    Z = D[0];
                D[1];
                E.useEffect((function() {
                    n(u)
                }), [u]), E.useEffect((function() {
                    d((function(e) {
                        return U(U({}, e), {}, {
                            listingVariants: null == N ? void 0 : N.filter((function(e) {
                                return !!e.unitPriceTokens
                            })).map((function(e) {
                                var t = e.currentUnitPriceTokens,
                                    r = (0, C.Z)(e, M);
                                return U(U({
                                    unitPriceTokens: parseInt(t, 10)
                                }, r), {}, {
                                    sellerVariant: !0
                                })
                            }))
                        })
                    }))
                }), [N]);
                (0, E.useEffect)((function() {
                    var e = 0 === N.length || (null == L ? void 0 : L.every((function(e) {
                        return e
                    })));
                    i(e)
                }), [L, N]);
                var L = E.useMemo((function() {
                        return N.map((function(e, t) {
                            var r, n = e.quantity,
                                a = e.unitPriceTokens;
                            if (w.PN[t] !== n) return !1;
                            if (void 0 === a) return !0;
                            if (!/^\d*$/.test(a)) return !1;
                            var l = (null === (r = N.slice(0, t).findLast((function(e) {
                                    return e.unitPriceTokens
                                }))) || void 0 === r ? void 0 : r.unitPriceTokens) || b,
                                o = parseInt(l, 10),
                                i = parseInt(a, 10);
                            return i >= w.zD && i <= o
                        }))
                    }), [N, b]),
                    A = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : N;
                        S(e.map((function(t, r) {
                            var n, a = (null === (n = e.slice(0, r).findLast((function(e) {
                                return e.unitPriceTokens
                            }))) || void 0 === n ? void 0 : n.unitPriceTokens) || b;
                            return parseInt(t.unitPriceTokens, 10) === parseInt(a, 10) ? U(U({}, t), {}, {
                                unitPriceTokens: void 0
                            }) : t
                        })))
                    };
                E.useEffect(A, [b]);
                return E.createElement(m.JX, {
                    className: "tw-@container/subPricing tw-gap-5"
                }, E.createElement(m.JX, {
                    className: "tw-gap-2"
                }, E.createElement(m.X2, {
                    className: "tw-items-center tw-gap-2 tw-bg-grey tw-px-3 tw-py-2 tw-rounded-lg"
                }, E.createElement("label", {
                    htmlFor: "priceTokens",
                    className: "tw-text-nowrap"
                }, "1 month at"), E.createElement(m.II, {
                    name: "priceTokens",
                    type: "number",
                    className: "tw-w-[150px]",
                    onChange: function(e) {
                        var t = e.target,
                            r = t.name,
                            n = t.value;
                        switch (d((function(e) {
                                return U(U({}, e), {}, (0, a.Z)({}, r, n))
                            })), r) {
                            case "priceTokens":
                                v(n);
                                break;
                            case "listingVariants":
                                S(n)
                        }
                    },
                    value: b,
                    min: w.zD,
                    max: w._C
                })), N.map((function(e, t) {
                    var r, n = e.quantity,
                        a = e.unitPriceTokens,
                        l = "listingVariants[".concat(t, "]_unitPriceTokens"),
                        o = (null === (r = N.slice(0, t).findLast((function(e) {
                            return e.unitPriceTokens
                        }))) || void 0 === r ? void 0 : r.unitPriceTokens) || b,
                        i = null != a ? a : o,
                        c = parseInt(b, 10),
                        s = parseInt(o, 10),
                        u = parseInt(i, 10);
                    return E.createElement(m.JX, {
                        key: l,
                        className: "tw-justify-center tw-bg-grey tw-gap-2 tw-px-3 tw-py-2 tw-rounded-lg"
                    }, E.createElement(m.X2, {
                        className: "tw-items-center"
                    }, E.createElement("label", {
                        htmlFor: l,
                        className: "tw-whitespace-nowrap tw-mr-2"
                    }, "".concat((n * I).toLocaleString(), " ").concat(n * I == 1 ? Z.replace(/s$/, "") : Z, " at ")), E.createElement(m.X2, {
                        className: "tw-items-center"
                    }, E.createElement(m.II, {
                        id: l,
                        type: "number",
                        className: "tw-w-[150px] tw-mr-2",
                        min: w.zD,
                        max: o,
                        size: w._C.toString(10).length + 1,
                        value: i,
                        invalid: !0 !== L[t],
                        onChange: function(e) {
                            return function(e) {
                                var t = e.index,
                                    r = e.unitPriceTokens,
                                    n = N.map((function(e) {
                                        return U({}, e)
                                    }));
                                n[t].unitPriceTokens = parseInt(r, 10), A(n)
                            }({
                                index: t,
                                unitPriceTokens: e.target.value.slice(0, w._C.toString(10).length)
                            })
                        }
                    }), E.createElement("label", {
                        htmlFor: l
                    }, E.createElement(m.b5, {
                        className: "tw-mx-0"
                    }), function(e) {
                        var t = e.duration,
                            r = e.durationType;
                        if ("forevers" === r) return null;
                        var n = 1 === t ? r.replace(/s$/, "") : "".concat(t, " ").concat(r);
                        return "/".concat(n)
                    }({
                        duration: I,
                        durationType: Z
                    }), ", ")), E.createElement("label", {
                        htmlFor: l
                    }, E.createElement("strong", null, "Total"), " ", E.createElement(m.b5, null), (n * I * u || 0).toLocaleString(), u < c && E.createElement(E.Fragment, null, " ", E.createElement(X.Z, {
                        color: "success"
                    }, Math.floor(100 - u / c * 100), "% off")), u === s && E.createElement(E.Fragment, null, " ", E.createElement(X.Z, {
                        className: "tw-text-[#DADADA] tw-bg-gray-500",
                        title: "This bundle is using the same unit price as the ".concat(0 === t ? "standard price" : "previous bundle", ".")
                    }, "Max Price")))), !0 !== L[t] && E.createElement("div", null, E.createElement("span", {
                        className: "tw-text-red"
                    }, "Must be a whole number between ", E.createElement(m.b5, null), w.zD.toLocaleString(), " and the ", 0 === t ? "standard" : "previous bundle", " unit price", !Number.isNaN(s) && E.createElement(E.Fragment, null, " ", "of ", E.createElement(m.b5, null), (s || 0).toLocaleString()), ".")))
                })), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, "Set pricing for your monthly subscription plans, and consider offering discounts to attract more subscribers by reducing the monthly rates.")))
            };
            J.propTypes = {
                listing: v().object.isRequired,
                onDataChange: v().func
            };
            const G = J;

            function q(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function B(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? q(Object(r), !0).forEach((function(t) {
                        (0, a.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : q(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var $ = function(e) {
                e.store;
                var t = e.listingId,
                    r = e.onClose,
                    a = void 0 === r ? function() {} : r,
                    c = (0, h.I0)(),
                    b = ((0, y.s0)(), (0, p.XC)().data),
                    v = (0, E.useState)(0),
                    C = (0, l.Z)(v, 2),
                    S = C[0],
                    k = C[1],
                    P = (0, E.useState)(null),
                    O = (0, l.Z)(P, 2),
                    I = O[0],
                    T = O[1],
                    j = (0, E.useState)(null),
                    D = (0, l.Z)(j, 2),
                    Z = D[0],
                    L = D[1],
                    A = (0, E.useState)(!1),
                    F = (0, l.Z)(A, 2),
                    X = F[0],
                    M = F[1],
                    R = (0, E.useState)(null),
                    U = (0, l.Z)(R, 2),
                    J = U[0],
                    q = U[1],
                    $ = (0, E.useState)([]),
                    V = (0, l.Z)($, 2),
                    _ = V[0],
                    W = V[1],
                    Y = (0, E.useState)(!0),
                    Q = (0, l.Z)(Y, 2),
                    H = Q[0],
                    K = Q[1],
                    ee = (0, f.mr)({
                        listingId: t,
                        hydrateProducts: !0
                    }),
                    te = ee.data,
                    re = ee.isLoading,
                    ne = (ee.isError, ee.error, (0, f.Ij)()),
                    ae = (0, l.Z)(ne, 2),
                    le = ae[0],
                    oe = ae[1],
                    ie = (oe.isLoading, oe.isSuccess, oe.isError, oe.error, (0, g.As)()),
                    ce = (0, l.Z)(ie, 2),
                    se = ce[0],
                    ue = ce[1],
                    me = ue.data,
                    de = ue.isLoading,
                    we = (ue.isError, ue.error, (0, E.useMemo)((function() {
                        return null == me ? void 0 : me.filter((function(e) {
                            return e.productType !== w.Pm.AVATAR
                        }))
                    }), [me]));
                (0, E.useEffect)((function() {
                    if (te) {
                        if (te.hydratedProducts) {
                            var e = te.products.find((function(e) {
                                return e.groupRoleId
                            }));
                            q(e), W(te.products)
                        }
                        T(te)
                    }
                }), [te, re]);
                var pe = function(e) {
                        T(B(B({}, I), e)), L(B(B({}, Z), e))
                    },
                    fe = function() {
                        var e = (0, n.Z)(s().mark((function e() {
                            var t, r, n;
                            return s().wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return t = function() {
                                            c((0, u.d)({
                                                title: "Listing updated successfully!",
                                                icon: i.f8,
                                                message: "Your listing has been updated successfully!",
                                                color: "success",
                                                timeout: 3e3
                                            })), a()
                                        }, e.prev = 1, e.next = 4, le(B({
                                            listingId: te.id
                                        }, Z)).unwrap();
                                    case 4:
                                        t(), e.next = 11;
                                        break;
                                    case 7:
                                        e.prev = 7, e.t0 = e.catch(1), console.error("error", e.t0), c((0, u.d)({
                                            title: "Failed to update listing!",
                                            icon: o.eH,
                                            message: null !== (r = null === (n = e.t0.data) || void 0 === n || null === (n = n.error) || void 0 === n ? void 0 : n.message) && void 0 !== r ? r : "Something went wrong",
                                            color: "danger",
                                            timeout: 3e3
                                        }));
                                    case 11:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 7]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    ge = (0, E.useMemo)((function() {
                        var e = null == Z || !Z.displayName || Z.displayName.length >= 3,
                            t = "" !== (null == Z ? void 0 : Z.displayName),
                            r = null == Z || !Z.priceTokens || Z.priceTokens >= 100 && Z.priceTokens <= 1e4 && Number.isInteger(parseFloat(Z.priceTokens)),
                            n = null == Z || !Z.products || Z.products.length > 0;
                        return e && t && r && n && H
                    }), [Z, H]),
                    be = re || !I || de;
                return E.createElement(m.JX, {
                    className: "tw-w-full tw-relative"
                }, be && E.createElement("div", {
                    className: "tw-container tw-flex tw-justify-center tw-p-10"
                }, E.createElement(d.Z, {
                    loading: be
                })), !be && !X && E.createElement(E.Fragment, null, E.createElement("div", {
                    className: "tw-w-full tw-bg-grey tw-text-light-grey tw-rounded-lg tw-px-3 tw-py-4 tw-mb-3"
                }, E.createElement("p", {
                    className: "tw-mb-0 tw-text-sm"
                }, "Manage this role's permissions and requirements from your", " ", E.createElement("strong", null, E.createElement(x.rU, {
                    className: "tw-text-lighter-grey",
                    to: null != I && I.groupId && null != J && J.groupRoleId ? "/home/group/".concat(I.groupId, "/settings/roles/").concat(J.groupRoleId) : "/home/groups"
                }, "Group")), " ", "settings")), E.createElement(m.X2, {
                    className: "tw-gap-5 tw-mb-6"
                }, E.createElement("button", {
                    type: "button",
                    onClick: function() {
                        return k(0)
                    },
                    className: "tw-bg-transparent tw-py-2 tw-border-0 tw-border-b-2 tw-border-solid ".concat(0 === S ? "tw-border-teal-accent" : "tw-border-transparent")
                }, "Overview"), E.createElement("button", {
                    type: "button",
                    onClick: function() {
                        return k(1)
                    },
                    className: "tw-bg-transparent tw-py-2 tw-border-0 tw-border-b-2 tw-border-solid ".concat(1 === S ? "tw-border-solid tw-border-teal-accent" : "tw-border-transparent")
                }, "Pricing")), E.createElement("div", {
                    className: "tw-w-full tw-relative"
                }, 0 === S && E.createElement(z, {
                    listing: I,
                    onDataChange: pe,
                    onEditProducts: function() {
                        se({
                            userId: b.id
                        }), M(!0)
                    },
                    productList: _
                }), 1 === S && E.createElement(G, {
                    listing: I,
                    onDataChange: pe,
                    validateVariants: function(e) {
                        return K(e)
                    }
                })), E.createElement("div", {
                    className: "tw-mt-8 tw-justify-between tw-gap-3 tw-flex-col sm:tw-flex-row tw-flex tw-flex-wrap"
                }, E.createElement(m.zx, {
                    neutral: !0,
                    type: "button",
                    onClick: a,
                    containerClasses: "md:tw-max-w-[170px] tw-flex-auto"
                }, "Cancel"), E.createElement(m.zx, {
                    type: "button",
                    onClick: fe,
                    disabled: !ge,
                    containerClasses: "sm:tw-max-w-[240px] tw-flex-1"
                }, "Save"))), !be && X && E.createElement(m.JX, null, E.createElement(N.Z, {
                    products: we,
                    onDataChange: pe,
                    associatedProduct: J,
                    existingProducts: _,
                    onAddedProducts: function(e) {
                        return W(e)
                    }
                }), E.createElement("div", {
                    className: "tw-w-full tw-flex tw-justify-center"
                }, E.createElement(m.zx, {
                    type: "button",
                    onClick: function() {
                        return M(!1)
                    },
                    containerClasses: "tw-max-w-[170px] tw-w-full tw-mt-5"
                }, "Done"))))
            };
            $.propTypes = {
                store: v().object,
                listing: v().object,
                onClose: v().func
            };
            const V = $
        },
        18529: (e, t, r) => {
            "use strict";
            r.r(t), r.d(t, {
                default: () => be
            });
            var n = r(15861),
                a = r(45987),
                l = r(4942),
                o = r(54546),
                i = r(76553),
                c = r(64687),
                s = r.n(c),
                u = r(64258),
                m = r(37463),
                d = r(63221),
                w = r(95896),
                p = r(22202),
                f = r(93261),
                g = r(16869),
                b = r(67978),
                v = r(68157),
                E = r(67294),
                h = r(32981),
                y = r(89250),
                x = r(36078),
                N = r(82414),
                C = r(65061),
                S = r(46357),
                k = r(17319),
                P = r(34233),
                O = r(7371);

            function I(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function T(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? I(Object(r), !0).forEach((function(t) {
                        (0, l.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : I(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            const j = function(e) {
                var t, r = e.iconChangeCallback,
                    n = void 0 === r ? function() {} : r,
                    a = e.bannerChangeCallback,
                    l = void 0 === a ? function() {} : a,
                    i = e.groupData,
                    c = e.shortCodePlaceholder,
                    s = void 0 === c ? "" : c,
                    u = E.useState(!1),
                    d = (0, o.Z)(u, 2),
                    w = d[0],
                    p = d[1],
                    f = E.useState({
                        currentIcon: (null == i ? void 0 : i.icon) || (null == i ? void 0 : i.iconId) || null,
                        currentBanner: (null == i ? void 0 : i.banner) || (null == i ? void 0 : i.bannerId) || null
                    }),
                    g = (0, o.Z)(f, 2),
                    b = g[0],
                    v = g[1],
                    h = E.useState(""),
                    y = (0, o.Z)(h, 2),
                    x = y[0],
                    N = y[1];
                return E.createElement("div", {
                    className: "tw-p-3 tw-pb-5 tw-rounded-lg tw-min-w-[200px] tw-bg-[#252A30]"
                }, E.createElement("div", {
                    className: "tw-relative tw-mb-2"
                }, E.createElement(m.zx, {
                    onClick: function() {
                        N("groupBanner"), p(!0)
                    },
                    className: "tw-rounded-full",
                    containerClasses: "tw-rounded-full tw-absolute tw-w-9 tw-h-9 tw-right-3 tw-top-3"
                }, E.createElement(m.$1, {
                    icon: O.Iw
                })), E.createElement(m.pw, {
                    imageId: b.currentBanner,
                    fitToCover: !0,
                    alt: "Group Banner",
                    className: "tw-w-full tw-max-h-[115px]",
                    containerColor: "#181B1F",
                    iconColor: "#404C58"
                })), E.createElement(m.JX, {
                    className: "sm:tw-flex-row"
                }, E.createElement("div", {
                    className: "tw-relative tw-w-[100px] tw-h-[100px] tw-aspect-square tw--mt-[50px] tw-mx-auto sm:tw-ml-7 sm:tw-mr-3"
                }, E.createElement(m.zx, {
                    onClick: function() {
                        N("groupIcon"), p(!0)
                    },
                    className: "tw-rounded-full",
                    containerClasses: "tw-rounded-full tw-absolute tw-w-9 tw-h-9 tw-right-0 tw-bottom-0"
                }, E.createElement(m.$1, {
                    icon: P._j
                })), E.createElement(m.pw, {
                    imageId: b.currentIcon,
                    fitToCover: !0,
                    alt: "Group Banner",
                    className: "tw-w-[100px] tw-rounded-full tw-aspect-square tw-h-[100px]",
                    containerColor: "#181B1F",
                    iconColor: "#404C58"
                })), E.createElement(m.JX, null, E.createElement("h4", {
                    className: "tw-m-0"
                }, i.name), E.createElement(m.X2, {
                    className: "tw-gap-2"
                }, E.createElement("p", {
                    className: "tw-m-0"
                }, E.createElement(m.$1, {
                    icon: k.di,
                    color: "#737F8D"
                }), " 0"), E.createElement("p", {
                    className: "tw-m-0"
                }, E.createElement(m.$1, {
                    icon: S.FV,
                    color: "#FFFFFF"
                }), " 0"), E.createElement("p", {
                    className: "tw-m-0"
                }, "" !== i.shortCode ? i.shortCode : s, ".0000")))), E.createElement(m.m6, {
                    preset: x,
                    isOpen: w,
                    onClose: function() {
                        return p(!1)
                    },
                    confirmCallback: (t = x, function(e) {
                        var r = e.fileId,
                            a = void 0 === r ? null : r,
                            o = e.fileBlob,
                            i = void 0 === o ? null : o;
                        if ("groupBanner" === t || "groupIcon" === t) {
                            if (null === a && null === i) {
                                var c = "groupBanner" === t ? {
                                    currentBanner: null
                                } : {
                                    currentIcon: null
                                };
                                return v((function(e) {
                                    return T(T({}, e), c)
                                })), void("groupBanner" === t ? l : n)(null)
                            }
                            if (null !== a) {
                                var s = "groupBanner" === t ? {
                                    currentBanner: a
                                } : {
                                    currentIcon: a
                                };
                                return v((function(e) {
                                    return T(T({}, e), s)
                                })), void("groupBanner" === t ? l : n)(a)
                            }
                            var u = "groupBanner" === t ? {
                                currentBanner: i
                            } : {
                                currentIcon: i
                            };
                            v((function(e) {
                                return T(T({}, e), u)
                            })), ("groupBanner" === t ? l : n)(i)
                        }
                    }),
                    cancelCallBack: function() {
                        return p(!1)
                    }
                }))
            };

            function D(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function Z(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? D(Object(r), !0).forEach((function(t) {
                        (0, l.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : D(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            const L = function(e) {
                var t = e.currentGroupData,
                    r = void 0 === t ? null : t,
                    n = e.onGroupDataChange,
                    a = void 0 === n ? function() {} : n,
                    i = e.generateShortCodeFromName,
                    c = void 0 === i ? function() {} : i,
                    s = e.shortCodePlaceholder,
                    u = void 0 === s ? null : s,
                    d = E.useState((null == r ? void 0 : r.banner) || (null == r ? void 0 : r.bannerId) || null),
                    w = (0, o.Z)(d, 2),
                    p = (w[0], w[1], E.useState((null == r ? void 0 : r.icon) || (null == r ? void 0 : r.iconId) || null)),
                    f = (0, o.Z)(p, 2),
                    g = (f[0], f[1], E.useState({
                        icon: (null == r ? void 0 : r.icon) || null,
                        banner: (null == r ? void 0 : r.banner) || null,
                        iconId: (null == r ? void 0 : r.iconId) || null,
                        bannerId: (null == r ? void 0 : r.bannerId) || null,
                        shortCode: (null == r ? void 0 : r.shortCode) || "",
                        name: (null == r ? void 0 : r.name) || "",
                        description: (null == r ? void 0 : r.description) || ""
                    })),
                    b = (0, o.Z)(g, 2),
                    v = b[0],
                    h = b[1],
                    y = (0, E.useState)(!1),
                    x = (0, o.Z)(y, 2),
                    S = x[0],
                    k = x[1],
                    P = (0, E.useRef)(null),
                    O = E.useCallback((function(e, t) {
                        var r = "string" == typeof t;
                        h((function(n) {
                            var o, i = Z(Z({}, n), {}, (o = {}, (0, l.Z)(o, "".concat(e, "Id"), r ? t : null), (0, l.Z)(o, e, r ? null : t), o));
                            return a(i), i
                        }))
                    }), [a]),
                    I = function(e) {
                        var t = e.target,
                            r = t.name,
                            n = t.value;
                        h((function(e) {
                            var t = Z(Z({}, e), {}, (0, l.Z)({}, r, "shortCode" === r ? n.toUpperCase() : n));
                            return a(t), t
                        }))
                    };
                return (0, E.useEffect)((function() {
                    var e = function(e) {
                        P.current && !P.current.contains(e.target) && k(!1)
                    };
                    return S ? document.addEventListener("mousedown", e) : document.removeEventListener("mousedown", e),
                        function() {
                            document.removeEventListener("mousedown", e)
                        }
                }), [S]), E.createElement(m.JX, {
                    className: "tw-gap-5 tw-mb-8"
                }, E.createElement(m.JX, null, E.createElement("label", {
                    forHtml: "name",
                    className: "tw-mb-2"
                }, "Group Name"), E.createElement(m.II, {
                    name: "name",
                    type: "text",
                    className: "tw-mb-2",
                    onChange: function(e) {
                        I(e), c(e)
                    },
                    maxLength: 64,
                    value: v.name
                }), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, v.name.length, "/64")), E.createElement(m.JX, null, E.createElement("label", {
                    forHtml: "shortCode",
                    className: "tw-flex tw-flex-row tw-mb-2"
                }, "Group Unique ID", E.createElement("div", {
                    className: "tw-group tw-relative tw-ml-1",
                    ref: P
                }, E.createElement("button", {
                    id: "groupIdTooltip",
                    type: "button",
                    className: "tw-bg-transparent tw-border-none",
                    onClick: function() {
                        return k(!S)
                    },
                    "aria-label": "Group ID tooltip"
                }, E.createElement(m.$1, {
                    icon: N.sq,
                    className: "tw-text-light-grey"
                })), E.createElement(C.Z, {
                    isOpen: S,
                    target: "groupIdTooltip",
                    placement: "right",
                    trigger: "click",
                    innerClassName: "tw-bg-gray-900"
                }, E.createElement("span", {
                    className: "tw-text-xs tw-rounded tw-bg-gray-900 tw-px-2 tw-py-1 tw-font-medium tw-text-gray-50"
                }, "This will help other users find your group or differentiate it from similar named ones.")))), E.createElement(m.II, {
                    name: "shortCode",
                    className: "tw-mb-2",
                    type: "text",
                    onChange: I,
                    maxLength: 6,
                    min: 3,
                    value: v.shortCode,
                    placeholder: u
                }), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, "Your Group's identifier must be 3-6 characters and will be followed with a discriminator.", v.name.length >= 3 && " If left blank, ".concat(u, " will be your identifier."))), E.createElement(m.JX, null, E.createElement("label", {
                    forHtml: "description",
                    className: "tw-mb-2"
                }, "Description"), E.createElement(m.gx, {
                    className: "tw-mb-2",
                    name: "description",
                    onChange: I,
                    maxLength: 1024,
                    value: v.description
                }), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, v.description.length, "/1024 characters")), E.createElement("div", {
                    className: "tw-relative tw-rounded-lg"
                }, E.createElement("label", {
                    className: "tw-mb-3"
                }, "Add Group Icon and Banner Image"), E.createElement(j, {
                    shortCodePlaceholder: u,
                    iconChangeCallback: function(e) {
                        return O("icon", e)
                    },
                    bannerChangeCallback: function(e) {
                        return O("banner", e)
                    },
                    groupData: v
                })))
            };
            var A = r(79655);
            const F = function(e) {
                var t = e.group,
                    r = void 0 === t ? {} : t;
                return E.createElement(m.JX, {
                    className: "tw-items-center tw-justify-center tw-mb-8 tw-text-center"
                }, E.createElement(m.pw, {
                    className: "tw-mb-5 tw-rounded-full",
                    imageId: null == r ? void 0 : r.iconId,
                    alt: null == r ? void 0 : r.name,
                    fitToCover: !0
                }), E.createElement("h4", null, null == r ? void 0 : r.name, " has been created!"), E.createElement("p", null, "You can modify, add members and customize your group from the ", E.createElement(A.rU, {
                    to: "/home/groups"
                }, "Groups"), " section."), E.createElement("p", {
                    className: "tw-font-bold tw-mb-0"
                }, "Subscriptions need to be linked to a subscription role."))
            };
            var z = r(11298),
                X = r(66007),
                M = r(81116),
                R = r(81511),
                U = r(4241),
                J = r(6811),
                G = r(83505);

            function q(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function B(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? q(Object(r), !0).forEach((function(t) {
                        (0, l.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : q(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            const $ = function(e) {
                var t = e.onDataChange,
                    r = void 0 === t ? function() {} : t,
                    n = (0, E.useState)({
                        joinState: d.wN.REQUEST,
                        privacy: d.TW.DEFAULT
                    }),
                    a = (0, o.Z)(n, 2),
                    l = a[0],
                    i = a[1];
                (0, E.useEffect)((function() {
                    r(l)
                }), [l]);
                var c = function(e) {
                        i(B(B({}, l), {}, {
                            joinState: e
                        }))
                    },
                    s = function(e) {
                        i(B(B({}, l), {}, {
                            privacy: e
                        }))
                    },
                    u = function(e) {
                        return e ? E.createElement(m.$1, {
                            icon: J.f8,
                            color: "#1FD1ED",
                            width: "24",
                            className: "tw-absolute tw-top-3 tw-right-3"
                        }) : E.createElement(m.$1, {
                            icon: k.di,
                            color: "#2D363F",
                            width: "24",
                            className: "tw-absolute tw-top-3 tw-right-3"
                        })
                    };
                return E.createElement(m.JX, {
                    className: "tw-@container tw-gap-5 tw-mb-8"
                }, E.createElement(m.JX, null, E.createElement("p", null, "How can people join your Group?"), E.createElement(m.JX, {
                    className: "tw-flex-1 tw-justify-evenly tw-gap-5 @sm:tw-flex-row"
                }, E.createElement(m.JX, {
                    onClick: function() {
                        return c(d.wN.OPEN)
                    },
                    role: "button",
                    className: (0, G.cx)("tw-relative tw-px-5 tw-py-8 tw-text-center tw-items-center tw-bg-grey tw-border-2 tw-border-solid tw-rounded-lg hover:tw-border-button-border", l.joinState === d.wN.OPEN ? "tw-border-button-border" : "tw-border-hr-line-color")
                }, u(l.joinState === d.wN.OPEN), E.createElement(m.$1, {
                    icon: U.FK,
                    width: "48",
                    className: "tw-mb-3"
                }), E.createElement("p", {
                    className: "tw-mb-0 tw-font-bold"
                }, "Free Join"), E.createElement("small", {
                    className: "tw-text-light-grey"
                }, "Anyone can join your group")), E.createElement(m.JX, {
                    onClick: function() {
                        return c(d.wN.REQUEST)
                    },
                    role: "button",
                    className: (0, G.cx)("tw-relative tw-flex-1 tw-px-5 tw-py-8 tw-text-center tw-items-center tw-bg-grey tw-border-2 tw-border-solid tw-rounded-lg hover:tw-border-button-border", l.joinState === d.wN.REQUEST ? "tw-border-button-border" : "tw-border-hr-line-color")
                }, u(l.joinState === d.wN.REQUEST), E.createElement(m.$1, {
                    icon: R.FU,
                    width: "48",
                    className: "tw-mb-3"
                }), E.createElement("p", {
                    className: "tw-mb-0 tw-font-bold"
                }, "Request to Join"), E.createElement("small", {
                    className: "tw-text-light-grey"
                }, "New members must reuqest to join")), E.createElement(m.JX, {
                    onClick: function() {
                        return c(d.wN.INVITE)
                    },
                    role: "button",
                    className: (0, G.cx)("tw-relative tw-flex-1 tw-px-5 tw-py-8 tw-text-center tw-items-center tw-bg-grey tw-border-2 tw-border-solid tw-rounded-lg hover:tw-border-button-border", l.joinState === d.wN.INVITE ? "tw-border-button-border" : "tw-border-hr-line-color")
                }, u(l.joinState === d.wN.INVITE), E.createElement(m.$1, {
                    icon: M.FJ,
                    width: "48",
                    className: "tw-mb-3"
                }), E.createElement("p", {
                    className: "tw-mb-0 tw-font-bold"
                }, "Invite-Only"), E.createElement("small", {
                    className: "tw-text-light-grey"
                }, "New members may be invited by anyone with the right permissions")))), E.createElement(m.JX, null, E.createElement("p", {
                    className: "tw-mb-0"
                }, "How visible is your Group?"), E.createElement("small", {
                    className: "tw-text-light-grey tw-mb-3"
                }, "Choose how you'd like to allow people to discover your Group"), E.createElement(m.JX, {
                    className: "@sm:tw-flex-row tw-gap-5 tw-mb-3"
                }, E.createElement(m.X2, {
                    onClick: function() {
                        return s(d.TW.DEFAULT)
                    },
                    role: "button",
                    className: (0, G.cx)("tw-relative tw-min-w-[200px] tw-gap-6 tw-p-5 tw-items-center tw-bg-grey tw-border-2 tw-border-solid tw-rounded-lg hover:tw-border-button-border", l.privacy === d.TW.DEFAULT ? "tw-border-button-border" : "tw-border-hr-line-color")
                }, u(l.privacy === d.TW.DEFAULT), E.createElement(m.$1, {
                    icon: X.KC,
                    width: "48"
                }), E.createElement(m.JX, null, E.createElement("p", {
                    className: "tw-mb-0 tw-font-bold"
                }, "Public"), E.createElement("small", {
                    className: "tw-text-light-grey"
                }, "Members can choose to advertise the group on their profile"))), E.createElement(m.X2, {
                    onClick: function() {
                        return s(d.TW.PRIVATE)
                    },
                    role: "button",
                    className: (0, G.cx)("tw-relative tw-min-w-[200px] tw-gap-6 tw-p-5 tw-items-center tw-bg-grey tw-border-2 tw-border-solid tw-rounded-lg hover:tw-border-button-border", l.privacy === d.TW.PRIVATE ? "tw-border-button-border" : "tw-border-hr-line-color")
                }, u(l.privacy === d.TW.PRIVATE), E.createElement(m.$1, {
                    icon: z.BC,
                    width: "48"
                }), E.createElement(m.JX, null, E.createElement("p", {
                    className: "tw-mb-0 tw-font-bold"
                }, "Private"), E.createElement("small", {
                    className: "tw-text-light-grey"
                }, "The group cannot be advertised or displayed by members")))), E.createElement("small", {
                    className: "tw-text-orange"
                }, "Note that once you've set up a Group as Public or Private, it cannot be changed.")))
            };

            function V(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function _(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? V(Object(r), !0).forEach((function(t) {
                        (0, l.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : V(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var W = {
                name: "",
                description: ""
            };
            const Y = function(e) {
                var t = e.onDataChange,
                    r = void 0 === t ? function() {} : t,
                    n = e.role,
                    a = void 0 === n ? W : n,
                    i = (0, E.useState)(a),
                    c = (0, o.Z)(i, 2),
                    s = c[0],
                    u = c[1],
                    d = (0, E.useState)(!1),
                    w = (0, o.Z)(d, 2),
                    p = w[0],
                    f = w[1],
                    g = (0, E.useRef)(null),
                    b = function(e) {
                        var t = e.target,
                            n = t.name,
                            a = t.value;
                        u((function(e) {
                            var t = _(_({}, e), {}, (0, l.Z)({}, n, a));
                            return r(t), t
                        }))
                    };
                return (0, E.useEffect)((function() {
                    var e = function(e) {
                        g.current && !g.current.contains(e.target) && f(!1)
                    };
                    return p ? document.addEventListener("mousedown", e) : document.removeEventListener("mousedown", e),
                        function() {
                            document.removeEventListener("mousedown", e)
                        }
                }), [p]), E.createElement(m.JX, {
                    className: "tw-gap-5 tw-mb-8"
                }, E.createElement(m.JX, {
                    className: "tw-rounded-lg tw-bg-[#000000] tw-p-3"
                }, E.createElement("small", {
                    className: "tw-text-light-grey"
                }, "Don't sweat it, you can still change your subscription role details and role permissions in the group page after the role has been created.")), E.createElement(m.JX, {
                    className: "tw-gap-2"
                }, E.createElement("label", {
                    htmlFor: "roleName",
                    className: "tw-flex tw-flex-row"
                }, "Subscription Role Name", E.createElement("div", {
                    className: "tw-group tw-relative tw-ml-1",
                    ref: g
                }, E.createElement("button", {
                    id: "roleNameTooltip",
                    type: "button",
                    className: "tw-bg-transparent tw-border-none",
                    onClick: function() {
                        return f(!p)
                    },
                    "aria-label": "Paid role name tooltip"
                }, E.createElement(m.$1, {
                    icon: N.sq,
                    className: "tw-text-light-grey"
                })), E.createElement(C.Z, {
                    isOpen: p,
                    target: "roleNameTooltip",
                    placement: "right",
                    trigger: "click",
                    innerClassName: "tw-bg-gray-900"
                }, E.createElement("span", {
                    className: "tw-text-xs tw-rounded tw-bg-gray-900 tw-px-2 tw-py-1 tw-font-medium tw-text-gray-50"
                }, "Subscription roles are exclusive roles within the group, available only through an active subscription. Access will automatically end when the subscription expires.")))), E.createElement(m.II, {
                    id: "roleName",
                    name: "name",
                    type: "text",
                    onChange: b,
                    value: s.name,
                    "aria-labelledby": "roleName",
                    "aria-describedby": "roleNameDescription"
                }), E.createElement("span", {
                    id: "roleNameDescription",
                    className: "tw-sr-only"
                }, "Enter the name of the paid role.")), E.createElement(m.JX, {
                    className: "tw-gap-2"
                }, E.createElement("label", {
                    htmlFor: "roleDescription"
                }, "Description"), E.createElement(m.gx, {
                    id: "roleDescription",
                    name: "description",
                    onChange: b,
                    value: s.description,
                    maxLength: 1024,
                    "aria-labelledby": "roleDescription",
                    "aria-describedby": "roleDescriptionHelp"
                }), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, s.description.length, "/1024 characters"), E.createElement("span", {
                    id: "roleDescriptionHelp",
                    className: "tw-sr-only"
                }, "Enter a description for the paid role. Maximum length is 1024 characters.")))
            };
            var Q = r(42138),
                H = r(17383),
                K = r(64358),
                ee = {
                    permissions: [],
                    productGroupAccess: !1,
                    requiresTwoFactor: !1,
                    productGroupAccessRemove: !1
                };
            const te = function(e) {
                var t, r = e.onDataChange,
                    n = void 0 === r ? function() {} : r,
                    a = e.groupPermissions,
                    l = void 0 === a ? [] : a,
                    i = e.groupInfo,
                    c = void 0 === i ? {} : i,
                    s = e.role,
                    u = void 0 === s ? ee : s,
                    d = E.useState(u.permissions),
                    w = (0, o.Z)(d, 2),
                    p = w[0],
                    f = w[1],
                    g = E.useState(null),
                    b = (0, o.Z)(g, 2),
                    v = b[0],
                    h = b[1],
                    y = E.useState("open" === (null == c ? void 0 : c.joinState) || u.productGroupAccess),
                    x = (0, o.Z)(y, 2),
                    N = x[0],
                    C = x[1],
                    S = E.useState(u.productGroupAccessRemove),
                    k = (0, o.Z)(S, 2),
                    P = k[0],
                    O = k[1],
                    I = E.useState(u.requiresTwoFactor),
                    T = (0, o.Z)(I, 2),
                    j = T[0],
                    D = T[1];
                E.useEffect((function() {
                    n({
                        permissions: p,
                        productGroupAccess: N,
                        requiresTwoFactor: j,
                        productGroupAccessRemove: P
                    })
                }), [p, N, j, P]);
                var Z = (0, H._b)(l),
                    L = E.useMemo((function() {
                        return (0, K.Ps)({
                            permissionName: v,
                            permissionsMap: Z
                        })
                    }), [v, Z]),
                    A = "open" === (null == c ? void 0 : c.joinState) ? "Since your group setting is Free Join, all users who subscribe will be automatically added to your group without needing approval. They'll remain part of the group after their subscription ends." : "Since your group setting is not Free Join, any user in VRChat can purchase this role and be added to the group, no matter what the group's join rules are.";
                return E.createElement(m.JX, {
                    className: "tw-gap-5 tw-mb-8"
                }, E.createElement(m.JX, {
                    className: "tw-rounded-lg tw-bg-[#000000] tw-p-3"
                }, E.createElement("small", {
                    className: "tw-text-light-grey"
                }, "Don’t sweat it, you can still change your subscription role details and role permissions in the group page after the role has been created.")), E.createElement(m.JX, {
                    className: "tw-gap-3"
                }, E.createElement(m.JX, {
                    className: "tw-bg-grey tw-p-5 tw-rounded-lg"
                }, E.createElement(m.K_, {
                    label: "Require Two-Factor Authentication",
                    value: "requiresTwoFactor",
                    description: "Requires members to have 2FA before permissions apply.",
                    defaultChecked: j,
                    onChangeCallback: function(e) {
                        var t = e.checked;
                        return D(t)
                    }
                })), E.createElement(m.JX, {
                    className: "tw-bg-grey tw-p-5 tw-rounded-lg"
                }, E.createElement(m.K_, {
                    label: "Enable Free Join for Subscribers",
                    value: "productGroupAccess",
                    description: A,
                    defaultChecked: N,
                    onChangeCallback: function(e) {
                        var t = e.checked;
                        return C(t)
                    },
                    disabled: "open" === (null == c ? void 0 : c.joinState) || "closed" === (null == c ? void 0 : c.joinState)
                })), N && "open" !== (null == c ? void 0 : c.joinState) && E.createElement(m.JX, {
                    className: "tw-bg-grey tw-p-5 tw-rounded-lg"
                }, E.createElement(m.K_, {
                    label: "Remove Members After Expiration",
                    value: "productGroupAccessRemove",
                    description: "If enabled, group members with this role are removed from the group entirely when their subscription ends. Note that this will remove any member whose subscription ends, whether they bought their way in or not.",
                    defaultChecked: P,
                    onChangeCallback: function(e) {
                        var t = e.checked;
                        return O(t)
                    }
                }))), E.createElement(m.JX, null, E.createElement("h4", null, "Group Permissions"), Z && E.createElement(m.JX, {
                    className: "tw-gap-3"
                }, Object.values(Z).map((function(e) {
                    return E.createElement(m.JX, {
                        key: e.name,
                        className: "tw-bg-grey tw-p-5 tw-rounded-lg"
                    }, E.createElement(m.K_, {
                        label: e.displayName,
                        value: e.name,
                        description: e.help,
                        defaultChecked: p.includes(e.name),
                        onChangeCallback: function(t) {
                            var r = t.checked;
                            return function(e, t) {
                                var r;
                                if (t) {
                                    var n = (0, K.QZ)({
                                        permissionName: e,
                                        permissionsMap: Z
                                    });
                                    return f([].concat((0, Q.Z)(p), [e], (0, Q.Z)(n)))
                                }
                                var a = Z[e];
                                if (null !== (r = a.computedDependedOnBy) && void 0 !== r && r.size && p.some((function(e) {
                                        return a.computedDependedOnBy.has(e)
                                    }))) return h(e);
                                f(p.filter((function(t) {
                                    return t !== e
                                })))
                            }(e.name, r)
                        }
                    }))
                })))), E.createElement(m.sm, {
                    isOpen: !!v,
                    confirmCallback: function() {
                        return f(p.filter((function(e) {
                            return e !== v && !L.has(e)
                        }))), void h(null)
                    },
                    cancelCallback: function() {
                        return h(null)
                    },
                    headerText: "Role Permission Dependencies",
                    confirmText: "Turn Off",
                    cancelText: "Go Back"
                }, E.createElement("div", null, E.createElement("p", null, "Turning off “", null === (t = Z[v]) || void 0 === t ? void 0 : t.displayName, "” will also turn off permissions that currently require it:"), E.createElement("ul", null, (0, Q.Z)(L).filter((function(e) {
                    return p.includes(e)
                })).map((function(e) {
                    var t = Z[e];
                    return E.createElement("li", {
                        key: e
                    }, "“", t.displayName, "”")
                }))), E.createElement("strong", null, "Are you sure you want to turn this off?"))))
            };
            var re = r(4965);
            const ne = function(e) {
                var t, r, n = e.user,
                    a = e.groups,
                    l = e.onGroupSelect,
                    i = void 0 === l ? function() {} : l,
                    c = null !== (t = null == n || null === (r = n.tagsSet) || void 0 === r ? void 0 : r.has("system_supporter")) && void 0 !== t && t,
                    s = E.useState(""),
                    u = (0, o.Z)(s, 2),
                    m = u[0],
                    d = u[1],
                    w = E.useMemo((function() {
                        return a && n ? null == a ? void 0 : a.filter((function(e) {
                            return (null == e ? void 0 : e.ownerId) === (null == n ? void 0 : n.id)
                        })) : []
                    }), [a, n]);
                return E.createElement("div", {
                    className: "tw-mb-4 tw-min-h-[100px] tw-w-full"
                }, E.createElement("p", {
                    className: "tw-mb-2"
                }, "Select Group"), E.createElement(ae, {
                    className: "tw-w-full",
                    id: "group_select",
                    "aria-label": "Select a group",
                    name: "group_select",
                    label: "",
                    value: m,
                    onChange: function(e) {
                        var t = e.target.value,
                            r = void 0 === t ? "" : t;
                        if (null === r) return i(null), void d("+ Create New Group");
                        var n = w.find((function(e) {
                            return e.name === r
                        }));
                        d(r), i(n)
                    }
                }, E.createElement("option", {
                    value: "",
                    disabled: !0
                }, 0 === w.length && "No Available Groups"), w.length > 0 && w.map((function(e) {
                    return E.createElement("option", {
                        key: e.name,
                        value: e.name
                    }, e.name)
                })), w.length < 5 && c && E.createElement("option", {
                    key: "Create New Group",
                    value: null
                }, "+ Create New Group")))
            };
            var ae = (0, re.Z)("select", {
                target: "e1iz8sio0"
            })("padding:0.45rem 0.75rem;height:unset;background:#05191d;border:#053c48 solid 2px;border-color:", (function(e) {
                return e.isError ? "#A8342E" : "#053c48"
            }), ";border-radius:4px;outline:none!important;color:#6ae3f9;min-width:100px;&:active,&:hover,&:focus{background:#07343f;color:#6ae3f9;border-color:", (function(e) {
                return e.isError ? "#A8342E" : "#086c84"
            }), ";}");
            const le = function(e) {
                var t = e.listing,
                    r = void 0 === t ? {} : t;
                return E.createElement(m.JX, {
                    className: "tw-text-center tw-mb-8 tw-items-center"
                }, E.createElement(m.pw, {
                    className: "tw-mb-5 tw-rounded-lg",
                    imageId: null == r ? void 0 : r.imageId,
                    alt: null == r ? void 0 : r.displayName,
                    width: 150,
                    fitToCover: !0
                }), E.createElement("h4", null, "Subscription Created"), E.createElement("p", null, "Your subscription is ready! Make sure your group store is enabled to start selling."))
            };
            var oe = r(78076),
                ie = r(25062),
                ce = ["file"],
                se = ["imageId"];

            function ue(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function me(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? ue(Object(r), !0).forEach((function(t) {
                        (0, l.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : ue(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            const de = function(e) {
                var t = e.onDataChange,
                    r = void 0 === t ? function() {} : t,
                    n = e.listing,
                    i = void 0 === n ? {} : n,
                    c = e.currentChanges,
                    s = e.validateVariants,
                    u = void 0 === s ? function() {} : s,
                    d = E.useState({}),
                    p = (0, o.Z)(d, 2),
                    f = p[0],
                    g = p[1],
                    b = E.useState(!1),
                    v = (0, o.Z)(b, 2),
                    h = v[0],
                    y = v[1],
                    x = E.useState((null == c ? void 0 : c.imageId) || (null == c ? void 0 : c.file) || null),
                    N = (0, o.Z)(x, 2),
                    C = N[0],
                    S = N[1],
                    k = E.useState(""),
                    P = (0, o.Z)(k, 2),
                    O = (P[0], P[1]),
                    I = (null == c ? void 0 : c.displayName) || (null == i ? void 0 : i.displayName) || "",
                    T = E.useState(I),
                    j = (0, o.Z)(T, 2),
                    D = j[0],
                    Z = j[1],
                    L = (null == c ? void 0 : c.description) || (null == i ? void 0 : i.description) || "",
                    A = E.useState(L),
                    F = (0, o.Z)(A, 2),
                    z = F[0],
                    X = F[1],
                    M = (null == c ? void 0 : c.priceTokens) || (null == i ? void 0 : i.priceTokens) || ((null == i ? void 0 : i.productType) === w.Pm.LISTING ? w.zD : void 0),
                    R = E.useState(M),
                    U = (0, o.Z)(R, 2),
                    J = U[0],
                    G = U[1],
                    q = (null == c ? void 0 : c.listingVariants) || (null == i ? void 0 : i.listingVariants) || [],
                    B = E.useState(w.PN.map((function(e) {
                        return q.find((function(t) {
                            return t.quantity === e
                        })) || {
                            quantity: e
                        }
                    }))),
                    $ = (0, o.Z)(B, 2),
                    V = $[0],
                    _ = $[1],
                    W = (null == c ? void 0 : c.duration) || (null == i ? void 0 : i.duration) || 1,
                    Y = E.useState(W),
                    Q = (0, o.Z)(Y, 2),
                    H = Q[0],
                    K = (Q[1], (null == c ? void 0 : c.durationType) || (null == i ? void 0 : i.durationType) || "months"),
                    ee = E.useState(K),
                    te = (0, o.Z)(ee, 2),
                    re = te[0];
                te[1];
                E.useEffect((function() {
                    r(f)
                }), [f]);
                var ne = function(e) {
                    var t = e.target,
                        r = t.name,
                        n = t.value;
                    switch (g((function(e) {
                            return me(me({}, e), {}, (0, l.Z)({}, r, n))
                        })), r) {
                        case "displayName":
                            Z(n);
                            break;
                        case "description":
                            X(n);
                            break;
                        case "priceTokens":
                            G(n);
                            break;
                        case "listingVariants":
                            _(n)
                    }
                };
                (0, E.useEffect)((function() {
                    var e = 0 === V.length || (null == ae ? void 0 : ae.every((function(e) {
                        return e
                    })));
                    u(e)
                }), [ae, V]);
                var ae = E.useMemo((function() {
                        return V.map((function(e, t) {
                            var r, n = e.quantity,
                                a = e.unitPriceTokens;
                            if (w.PN[t] !== n) return !1;
                            if (void 0 === a) return !0;
                            if (!/^\d*$/.test(a)) return !1;
                            var l = (null === (r = V.slice(0, t).findLast((function(e) {
                                    return e.unitPriceTokens
                                }))) || void 0 === r ? void 0 : r.unitPriceTokens) || J,
                                o = parseInt(l, 10),
                                i = parseInt(a, 10);
                            return i >= w.zD && i <= o
                        }))
                    }), [V, J]),
                    le = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : V,
                            t = e.map((function(t, r) {
                                var n, a = (null === (n = e.slice(0, r).findLast((function(e) {
                                    return e.unitPriceTokens
                                }))) || void 0 === n ? void 0 : n.unitPriceTokens) || J;
                                return parseInt(t.unitPriceTokens, 10) === parseInt(a, 10) ? me(me({}, t), {}, {
                                    unitPriceTokens: void 0
                                }) : me(me({}, t), {}, {
                                    sellerVariant: !0
                                })
                            }));
                        _(t), g((function(e) {
                            return me(me({}, e), {}, {
                                listingVariants: t.filter((function(e) {
                                    return void 0 !== e.unitPriceTokens
                                }))
                            })
                        }))
                    };
                E.useEffect((function() {
                    le(V)
                }), [J]);
                return E.createElement(E.Fragment, null, E.createElement(m.JX, {
                    className: "tw-@container/subInfo tw-gap-5 tw-mb-2"
                }, E.createElement(m.JX, {
                    className: "@sm/subInfo:tw-flex-row tw-gap-5"
                }, E.createElement("button", {
                    type: "button",
                    onClick: function() {
                        O("subscription"), y(!0)
                    },
                    className: "tw-bg-transparent tw-border-0 tw-p-0 tw-rounded tw-relative tw-items-center tw-justify-center tw-flex"
                }, !C && E.createElement(m.zx, {
                    containerClasses: "tw-rounded tw-absolute tw-flex-1"
                }, E.createElement(m.$1, {
                    icon: oe.Vm,
                    className: "tw-mr-2"
                }), E.createElement("span", null, "Upload Thumbnail")), E.createElement(m.pw, {
                    imageId: C,
                    fitToCover: !0,
                    alt: "Subscription Thumbnail",
                    width: 285,
                    className: "tw-bg-grey tw-text-[#404C58]"
                })), E.createElement(m.JX, {
                    className: "tw-gap-5 flex-1"
                }, E.createElement(m.JX, {
                    className: "tw-gap-2"
                }, E.createElement("label", {
                    htmlFor: "displayName"
                }, "Display Name"), E.createElement(m.II, {
                    name: "displayName",
                    type: "text",
                    onChange: ne,
                    maxLength: 64,
                    value: D
                }), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, D.length, "/64")), E.createElement(m.JX, {
                    className: "tw-gap-2"
                }, E.createElement("label", {
                    htmlFor: "description"
                }, "Description"), E.createElement(m.gx, {
                    name: "description",
                    onChange: ne,
                    value: z,
                    maxLength: 256,
                    inputClassName: "tw-h-[135px]"
                }), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, z.length, "/256")))), E.createElement(m.JX, {
                    className: "tw-gap-2"
                }, E.createElement("label", {
                    htmlFor: "listingVariants"
                }, "Monthly Price and Plans"), E.createElement(m.X2, {
                    className: "tw-items-center tw-gap-2 tw-bg-grey tw-px-3 tw-py-2 tw-rounded-lg"
                }, E.createElement("label", {
                    htmlFor: "priceTokens",
                    className: "tw-text-nowrap"
                }, "1 month at"), E.createElement(m.II, {
                    name: "priceTokens",
                    type: "number",
                    className: "tw-w-[150px]",
                    onChange: ne,
                    value: J,
                    step: "1",
                    min: w.zD,
                    max: w._C
                })), V.map((function(e, t) {
                    var r, n = e.quantity,
                        a = e.unitPriceTokens,
                        l = "listingVariants[".concat(t, "]_unitPriceTokens"),
                        o = (null === (r = V.slice(0, t).findLast((function(e) {
                            return e.unitPriceTokens
                        }))) || void 0 === r ? void 0 : r.unitPriceTokens) || J,
                        i = null != a ? a : o,
                        c = parseInt(J, 10),
                        s = parseInt(o, 10),
                        u = parseInt(i, 10);
                    return E.createElement(m.JX, {
                        key: l,
                        className: "tw-justify-center tw-bg-grey tw-gap-2 tw-px-3 tw-py-2 tw-rounded-lg"
                    }, E.createElement(m.X2, {
                        className: "tw-items-center"
                    }, E.createElement("label", {
                        htmlFor: l,
                        className: "tw-whitespace-nowrap tw-mr-2"
                    }, "".concat((n * H).toLocaleString(), " ").concat(n * H == 1 ? re.replace(/s$/, "") : re, " at ")), E.createElement(m.X2, {
                        className: "tw-items-center"
                    }, E.createElement(m.II, {
                        id: l,
                        type: "number",
                        className: "tw-w-[150px] tw-mr-2",
                        min: w.zD,
                        max: o,
                        size: w._C.toString(10).length + 1,
                        value: i,
                        invalid: !0 !== ae[t],
                        onChange: function(e) {
                            return function(e) {
                                var t = e.index,
                                    r = e.unitPriceTokens,
                                    n = V.map((function(e) {
                                        return me({}, e)
                                    }));
                                n[t].unitPriceTokens = r, le(n)
                            }({
                                index: t,
                                unitPriceTokens: e.target.value.slice(0, w._C.toString(10).length)
                            })
                        }
                    }), E.createElement("label", {
                        htmlFor: l
                    }, E.createElement(m.b5, {
                        className: "tw-mx-0"
                    }), function(e) {
                        var t = e.duration,
                            r = e.durationType;
                        if ("forevers" === r) return null;
                        var n = 1 === t ? r.replace(/s$/, "") : "".concat(t, " ").concat(r);
                        return "/".concat(n)
                    }({
                        duration: H,
                        durationType: re
                    }), ", ")), E.createElement("label", {
                        htmlFor: l
                    }, E.createElement("strong", null, "Total"), " ", E.createElement(m.b5, null), (n * H * u || 0).toLocaleString(), u < c && E.createElement(E.Fragment, null, " ", E.createElement(ie.Z, {
                        color: "success"
                    }, Math.floor(100 - u / c * 100), "% off")), u === s && E.createElement(E.Fragment, null, " ", E.createElement(ie.Z, {
                        className: "tw-text-[#DADADA] tw-bg-gray-500",
                        title: "This bundle is using the same unit price as the ".concat(0 === t ? "standard price" : "previous bundle", ".")
                    }, "Max Price")))), !0 !== ae[t] && E.createElement("div", null, E.createElement("span", {
                        className: "tw-text-red"
                    }, "Must be a whole number between ", E.createElement(m.b5, null), w.zD.toLocaleString(), " and the ", 0 === t ? "standard" : "previous bundle", " unit price", !Number.isNaN(s) && E.createElement(E.Fragment, null, " ", "of ", E.createElement(m.b5, null), (s || 0).toLocaleString()), ".")))
                })), E.createElement("small", {
                    className: "tw-text-placeholder-text"
                }, "Set pricing for your monthly subscription plans, and consider offering discounts to attract more subscribers by reducing the monthly rates."))), E.createElement(m.m6, {
                    preset: "subscription",
                    image: C,
                    isOpen: h,
                    onClose: function() {
                        return y(!1)
                    },
                    confirmCallback: function(e) {
                        var t = e.fileId,
                            r = void 0 === t ? null : t,
                            n = e.fileBlob,
                            l = void 0 === n ? null : n,
                            o = null !== r;
                        return null === r && null === l ? (S(null), void g((function(e) {
                            return me({
                                file: null,
                                imageId: null
                            }, e)
                        }))) : o ? (S(r), void g((function(e) {
                            e.file;
                            var t = (0, a.Z)(e, ce);
                            return me({
                                imageId: r
                            }, t)
                        }))) : (S(l), void g((function(e) {
                            e.imageId;
                            var t = (0, a.Z)(e, se);
                            return me({
                                file: l
                            }, t)
                        })))
                    },
                    cancelCallBack: function() {
                        return y(!1)
                    }
                }))
            };
            var we = ["imageId"],
                pe = ["file"];

            function fe(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function ge(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? fe(Object(r), !0).forEach((function(t) {
                        (0, l.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : fe(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            const be = function(e) {
                var t = e.user,
                    r = void 0 === t ? null : t,
                    l = e.onClose,
                    c = void 0 === l ? function() {} : l,
                    N = (e.groupData, (0, h.I0)()),
                    C = (0, y.s0)(),
                    S = (0, h.v9)((function(e) {
                        return e.myStoreCreateSubscription
                    })),
                    k = (S.previousStep, S.currentStep),
                    P = S.selectedGroup,
                    O = (0, p.XC)({
                        skip: r
                    }).data,
                    I = E.useState("Next"),
                    T = (0, o.Z)(I, 2),
                    j = T[0],
                    D = T[1],
                    Z = E.useState(!1),
                    A = (0, o.Z)(Z, 2),
                    z = A[0],
                    X = A[1],
                    M = E.useState(!1),
                    R = (0, o.Z)(M, 2),
                    U = R[0],
                    J = R[1],
                    G = E.useState({}),
                    q = (0, o.Z)(G, 2),
                    B = q[0],
                    V = q[1],
                    _ = E.useState(null),
                    W = (0, o.Z)(_, 2),
                    Q = W[0],
                    H = W[1],
                    K = (0, E.useState)(!0),
                    ee = (0, o.Z)(K, 2),
                    re = ee[0],
                    ae = ee[1],
                    oe = E.useState({
                        name: "",
                        shortCode: "",
                        description: "",
                        joinState: d.wN.REQUEST,
                        privacy: d.TW.DEFAULT,
                        roleTemplate: "default"
                    }),
                    ie = (0, o.Z)(oe, 2),
                    ce = ie[0],
                    se = ie[1],
                    ue = E.useState({
                        name: "",
                        description: "",
                        order: 0,
                        isSelfAssignable: !1,
                        requiresTwoFactor: !1,
                        requiresPurchase: !0,
                        productPriceTokens: w.nk,
                        productDuration: 1,
                        productDurationType: "months",
                        productGroupAccess: !1,
                        productGroupAccessRemove: !1,
                        permissions: []
                    }),
                    me = (0, o.Z)(ue, 2),
                    fe = me[0],
                    be = me[1],
                    ve = E.useState(null),
                    Ee = (0, o.Z)(ve, 2),
                    he = Ee[0],
                    ye = Ee[1],
                    xe = E.useState(null),
                    Ne = (0, o.Z)(xe, 2),
                    Ce = Ne[0],
                    Se = Ne[1],
                    ke = E.useState([]),
                    Pe = (0, o.Z)(ke, 2),
                    Oe = Pe[0],
                    Ie = Pe[1],
                    Te = r || O,
                    je = (0, f.dj)({
                        userId: null == Te ? void 0 : Te.id
                    }, {
                        skip: !Te
                    }),
                    De = je.data,
                    Ze = void 0 === De ? [] : De,
                    Le = je.isLoading,
                    Ae = (0, f.mt)({
                        groupId: null == P ? void 0 : P.id
                    }, {
                        skip: !P,
                        refetchOnMountOrArgChange: !0
                    }),
                    Fe = Ae.data,
                    ze = Ae.isLoading,
                    Xe = Ae.isError,
                    Me = (0, f.mm)(),
                    Re = (0, o.Z)(Me, 2),
                    Ue = Re[0],
                    Je = Re[1],
                    Ge = (Je.isSuccess, Je.isLoading),
                    qe = (Je.isError, Je.error, (0, f.Pt)()),
                    Be = (0, o.Z)(qe, 2),
                    $e = Be[0],
                    Ve = Be[1],
                    _e = (Ve.isSuccess, Ve.isLoading, Ve.isError, Ve.error, (0, g.Ij)()),
                    We = (0, o.Z)(_e, 2),
                    Ye = We[0],
                    Qe = We[1],
                    He = (Qe.isSuccess, Qe.isLoading, Qe.isError, Qe.error, (0, f.nz)()),
                    Ke = (0, o.Z)(He, 2),
                    et = Ke[0],
                    tt = Ke[1],
                    rt = (tt.data, tt.isLoading, tt.isError, tt.error, (0, g.ft)()),
                    nt = (0, o.Z)(rt, 2),
                    at = nt[0],
                    lt = nt[1],
                    ot = (lt.data, lt.isLoading, lt.isError, lt.error, (0, b.As)()),
                    it = (0, o.Z)(ot, 2),
                    ct = it[0],
                    st = it[1],
                    ut = st.data,
                    mt = (st.isLoading, st.isError, st.error, (0, b.RM)()),
                    dt = (0, o.Z)(mt, 2),
                    wt = dt[0],
                    pt = dt[1],
                    ft = (pt.data, pt.isLoading, pt.isError, pt.error, (0, E.useMemo)((function() {
                        return null == ut ? void 0 : ut.filter((function(e) {
                            return e.productType !== w.Pm.AVATAR
                        }))
                    }), [ut]));
                (0, E.useEffect)((function() {
                    return D("Create Subscription" === k && z ? "Create" : "groupCreated" === k ? "Create Subscription Role" : "createdSubscription" === k ? "Go to Store Manager" : "Next")
                }), [k, z]);
                var gt = function(e) {
                        se((function(t) {
                            return ge(ge({}, t), e)
                        }))
                    },
                    bt = function(e) {
                        be((function(t) {
                            return ge(ge({}, t), e)
                        }))
                    },
                    vt = function(e) {
                        ye((function(t) {
                            return ge(ge({}, t), e)
                        })), V((function(t) {
                            var r = ge(ge({}, t), e);
                            if (null === e.imageId) {
                                r.imageId;
                                return (0, a.Z)(r, we)
                            }
                            if (null === e.file) {
                                r.file;
                                return (0, a.Z)(r, pe)
                            }
                            return r
                        }))
                    },
                    Et = function() {
                        var e = (0, n.Z)(s().mark((function e() {
                            var t, r, n, a, l, o, c, m, d, w, p, f, g, b, E;
                            return s().wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        e.t0 = k, e.next = "Create Subscription" === e.t0 ? 3 : "Create Group" === e.t0 ? 19 : "Define Group Rules" === e.t0 ? 22 : "groupCreated" === e.t0 ? 37 : "Create Subscription Role" === e.t0 ? 41 : "Subscription Role Permissions" === e.t0 ? 44 : "Define Subscription" === e.t0 ? 65 : "Add Products" === e.t0 ? 69 : "createdSubscription" === e.t0 ? 83 : 85;
                                        break;
                                    case 3:
                                        if (!z) {
                                            e.next = 7;
                                            break
                                        }
                                        return N((0, v.Bq)("Create Group")), X(!1), e.abrupt("return");
                                    case 7:
                                        return e.prev = 7, e.next = 10, et({
                                            groupId: P.groupId || P.id
                                        });
                                    case 10:
                                        t = e.sent, N((0, v.lr)(t.data)), N((0, v.Bq)("Create Subscription Role")), e.next = 18;
                                        break;
                                    case 15:
                                        e.prev = 15, e.t1 = e.catch(7), N((0, u.d)({
                                            title: "Failed to retrieve group!",
                                            icon: i.eH,
                                            message: null !== (r = null === (n = e.t1.data) || void 0 === n || null === (n = n.error) || void 0 === n ? void 0 : n.message) && void 0 !== r ? r : "Something went wrong",
                                            color: "danger",
                                            timeout: 3e3
                                        }));
                                    case 18:
                                        return e.abrupt("break", 87);
                                    case 19:
                                        return N((0, v.Bq)("Define Group Rules")), N((0, v.IT)("Create Group")), e.abrupt("break", 87);
                                    case 22:
                                        return X(!0), e.prev = 23, a = ge(ge({}, ce), {}, {
                                            shortCode: "" === ce.shortCode ? Q : ce.shortCode
                                        }), e.next = 27, Ue(a).unwrap();
                                    case 27:
                                        l = e.sent, N((0, v.lr)(l.group)), N((0, v.Bq)("groupCreated")), N((0, v.BQ)(!0)), e.next = 36;
                                        break;
                                    case 33:
                                        e.prev = 33, e.t2 = e.catch(23), N((0, u.d)({
                                            title: "Failed to create group!",
                                            icon: i.eH,
                                            message: null !== (o = null === (c = e.t2.data) || void 0 === c || null === (c = c.error) || void 0 === c ? void 0 : c.message) && void 0 !== o ? o : "Something went wrong",
                                            color: "danger",
                                            timeout: 3e3
                                        }));
                                    case 36:
                                        return e.abrupt("break", 87);
                                    case 37:
                                        return N((0, v.Bq)("Create Subscription Role")), N((0, v.IT)(null)), N((0, v.BQ)(!1)), e.abrupt("break", 87);
                                    case 41:
                                        return N((0, v.Bq)("Subscription Role Permissions")), N((0, v.IT)("Create Subscription Role")), e.abrupt("break", 87);
                                    case 44:
                                        return e.prev = 44, e.next = 47, $e({
                                            groupId: P.id,
                                            data: fe
                                        }).unwrap();
                                    case 47:
                                        return m = e.sent, e.next = 50, at({
                                            listingId: m.listingId,
                                            hydrateProducts: !0
                                        }).unwrap();
                                    case 50:
                                        return d = e.sent, e.next = 53, wt({
                                            productId: m.productId
                                        }).unwrap();
                                    case 53:
                                        w = e.sent, Se(w), ye(d), 0 === Oe.length && d.hydratedProducts && Ie(d.products), N((0, v.Bq)("Define Subscription")), N((0, v.IT)(null)), e.next = 64;
                                        break;
                                    case 61:
                                        e.prev = 61, e.t3 = e.catch(44), N((0, u.d)({
                                            title: "Failed to create role!",
                                            icon: i.eH,
                                            message: null !== (p = null === (f = e.t3.data) || void 0 === f || null === (f = f.error) || void 0 === f ? void 0 : f.message) && void 0 !== p ? p : "Something went wrong",
                                            color: "danger",
                                            timeout: 3e3
                                        }));
                                    case 64:
                                        return e.abrupt("break", 87);
                                    case 65:
                                        return ct({
                                            userId: O.id
                                        }), N((0, v.Bq)("Add Products")), N((0, v.IT)("Define Subscription")), e.abrupt("break", 87);
                                    case 69:
                                        return e.prev = 69, e.next = 72, Ye(ge({
                                            listingId: he.id
                                        }, B)).unwrap();
                                    case 72:
                                        g = e.sent, ye(g.listing), N((0, v.Bq)("createdSubscription")), N((0, v.BQ)(!0)), e.next = 82;
                                        break;
                                    case 78:
                                        e.prev = 78, e.t4 = e.catch(69), console.log("error", e.t4), N((0, u.d)({
                                            title: "Failed to update listing!",
                                            icon: i.eH,
                                            message: null !== (b = null === (E = e.t4.data) || void 0 === E || null === (E = E.error) || void 0 === E ? void 0 : E.message) && void 0 !== b ? b : "Something went wrong",
                                            color: "danger",
                                            timeout: 3e3
                                        }));
                                    case 82:
                                        return e.abrupt("break", 87);
                                    case 83:
                                        return C("/home/marketplace/storefront/stores"), e.abrupt("break", 87);
                                    case 85:
                                        return N((0, v.Bq)("Create Subscription")), e.abrupt("break", 87);
                                    case 87:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [7, 15],
                                [23, 33],
                                [44, 61],
                                [69, 78]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    ht = Le || ze || Ge;
                return (0, E.useEffect)((function() {
                    if ("Create Subscription" !== k) {
                        if ("Create Group" === k) {
                            var e = ce.name.length >= 3 && ce.name.length < 64 && "" !== ce.name,
                                t = "" === ce.shortCode || ce.shortCode.length >= 3 && ce.shortCode.length <= 6;
                            return e && t ? !ce.name || ce.name.length >= 64 ? void J(!1) : J(!0) : void J(!1)
                        }
                        if ("Define Subscription" === k) {
                            var r = (null == he ? void 0 : he.displayName.length) >= 3,
                                n = (null == he ? void 0 : he.priceTokens) >= 100 && (null == he ? void 0 : he.priceTokens) <= 1e4 && Number.isInteger(parseFloat(null == he ? void 0 : he.priceTokens));
                            return J(r && n && re)
                        }
                        return J("Create Subscription Role" === k ? fe.name.length <= 64 && 0 !== fe.name.length : "Add Products" === k ? Oe.length > 0 && Oe.length <= w._1 : !ht)
                    }
                    J(null !== P || z)
                }), [k, P, z, ce, fe, ht, he, re]), E.createElement(m.JX, {
                    className: "tw-w-full"
                }, "Create Subscription" === k && E.createElement(ne, {
                    user: Te,
                    groups: Ze,
                    onGroupSelect: function(e) {
                        if (!e) return X(!0), void N((0, v.lr)(null));
                        X(!1), N((0, v.lr)(e))
                    }
                }), "Create Group" === k && !P && E.createElement(L, {
                    currentGroupData: ce,
                    onGroupDataChange: gt,
                    generateShortCodeFromName: function(e) {
                        var t = e.target.value,
                            r = t.length >= 3 ? t.replace(/[^a-zA-Z0-9]/g, "").toUpperCase().substring(0, 6) : null;
                        H(r)
                    },
                    shortCodePlaceholder: Q
                }), "Define Group Rules" === k && E.createElement($, {
                    onDataChange: gt
                }), "groupCreated" === k && E.createElement(F, {
                    group: P
                }), "Create Subscription Role" === k && E.createElement(Y, {
                    onDataChange: bt,
                    role: fe
                }), "Subscription Role Permissions" === k && E.createElement(te, {
                    onDataChange: bt,
                    role: fe,
                    groupPermissions: Fe,
                    isError: Xe,
                    roleInfo: fe,
                    groupInfo: P
                }), "Define Subscription" === k && he && E.createElement(de, {
                    listing: he,
                    validateVariants: function(e) {
                        return ae(e)
                    },
                    onDataChange: vt,
                    currentChanges: B
                }), "Add Products" === k && E.createElement(x.Z, {
                    products: ft,
                    listing: he,
                    associatedProduct: Ce,
                    existingProducts: Oe,
                    onDataChange: vt,
                    onAddedProducts: function(e) {
                        return Ie(e)
                    }
                }), "createdSubscription" === k && E.createElement(le, {
                    listing: he
                }), E.createElement(m.X2, {
                    className: "tw-gap-2"
                }, "groupCreated" !== k && E.createElement(m.zx, {
                    containerClasses: "tw-flex-1",
                    onClick: c,
                    neutral: !0
                }, "createdSubscription" === k ? "Finish" : "Cancel"), E.createElement(m.zx, {
                    containerClasses: "tw-flex-1",
                    onClick: Et,
                    disabled: !U
                }, j)))
            }
        },
        87965: (e, t, r) => {
            "use strict";
            r.r(t), r.d(t, {
                default: () => _e
            });
            var n = r(15861),
                a = r(54546),
                l = r(2293),
                o = r(68335),
                i = r(34327),
                c = r(94902),
                s = r(96914),
                u = r(76553),
                m = r(64687),
                d = r.n(m),
                w = r(67294),
                p = r(79655),
                f = r(89250),
                g = r(37463),
                b = r(72998),
                v = r(46320),
                E = r(95896),
                h = r(4942),
                y = r(62475),
                x = r(96766),
                N = r(40098),
                C = r(95337),
                S = r(98185),
                k = r(35187),
                P = r(76176),
                O = r(22202),
                I = r(16869),
                T = r(68157),
                j = r(32981);
            const D = r.p + "8483efe53b992e51983c5f56d5ebb938550f39f1a72d1258f3b30353f7ad369c.svg",
                Z = r.p + "aab2cd88e8f1da1b8209f5e30357c5ba59c64949f9079b0f33e3d05609c6e1da.svg",
                L = r.p + "f3de2219aad5eed5eceeb782bdf669066f23fe34ed832e88d74183128849e5c0.svg";
            const A = function(e) {
                var t = e.createSubscription,
                    r = void 0 === t ? function() {} : t;
                return w.createElement(g.JX, {
                    className: "tw-text-center tw-gap-9 tw-mt-12"
                }, w.createElement("h4", null, "Kickstart Your Subscription Program"), w.createElement(g.X2, {
                    className: "tw-justify-evenly tw-gap-12"
                }, w.createElement(g.JX, {
                    className: "tw-items-center"
                }, w.createElement("div", {
                    className: "tw-p-4 tw-bg-grey tw-rounded-full tw-w-[120px] tw-h-[120px] tw-flex tw-justify-center tw-mb-5"
                }, w.createElement("img", {
                    src: Z,
                    alt: "Generate consistent earnings from your supporters."
                })), w.createElement("h4", null, "Earn Rewarding Income"), w.createElement("p", {
                    className: "tw-text-light-grey"
                }, "Generate consistent earnings from your supporters.")), w.createElement(g.JX, {
                    className: "tw-items-center"
                }, w.createElement("div", {
                    className: "tw-p-4 tw-bg-grey tw-rounded-full tw-w-[120px] tw-h-[120px] tw-flex tw-justify-center tw-mb-5"
                }, w.createElement("img", {
                    src: L,
                    alt: "Provide Exclusive content and perks only subscribers can enjoy."
                })), w.createElement("h4", null, "Offer Exclusive Access"), w.createElement("p", {
                    className: "tw-text-light-grey"
                }, "Provide Exclusive content and perks only subscribers can enjoy.")), w.createElement(g.JX, {
                    className: "tw-items-center"
                }, w.createElement("div", {
                    className: "tw-p-4 tw-bg-grey tw-rounded-full tw-w-[120px] tw-h-[120px] tw-flex tw-justify-center tw-mb-5"
                }, w.createElement("img", {
                    src: D,
                    alt: "Grow your community and build stronger connections."
                })), w.createElement("h4", null, "Activate Your Fan Base"), w.createElement("p", {
                    className: "tw-text-light-grey"
                }, "Grow your community and build stronger connections."))), w.createElement(g.JX, {
                    className: "tw-items-center"
                }, w.createElement(g.zx, {
                    containerClasses: "tw-mb-3 tw-w-[200px]",
                    onClick: r
                }, w.createElement(g.$1, {
                    icon: N.r8
                }), " Create Subscription"), w.createElement("a", {
                    href: "https://creators.vrchat.com/economy/products/paid-role",
                    target: "_blank",
                    rel: "noreferrer"
                }, "Learn more about subscriptions")))
            };
            var F = r(44062),
                z = r(18529),
                X = r(6811),
                M = r(64258),
                R = r(45697),
                U = r.n(R),
                J = function(e) {
                    var t = e.onClose,
                        r = void 0 === t ? function() {} : t,
                        l = e.listing;
                    if (!l) return null;
                    var o = (0, j.I0)(),
                        i = (0, I.Ij)(),
                        c = (0, a.Z)(i, 2),
                        s = c[0],
                        m = c[1],
                        p = m.isLoading,
                        f = (m.isSuccess, m.isError, m.error, function() {
                            var e = (0, n.Z)(d().mark((function e() {
                                var t, n, a;
                                return d().wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                        case 0:
                                            return e.prev = 0, e.next = 3, s({
                                                listingId: l.id,
                                                active: !l.active
                                            }).unwrap();
                                        case 3:
                                            t = e.sent, o((0, M.d)({
                                                title: "Listing ".concat(t.listing.active ? "published" : "unpublished"),
                                                icon: X.f8,
                                                message: "".concat(l.displayName, " has been ").concat(t.listing.active ? "published" : "unpublished", "."),
                                                color: "success",
                                                timeout: 3e3
                                            })), r(), e.next = 12;
                                            break;
                                        case 8:
                                            e.prev = 8, e.t0 = e.catch(0), console.error(e.t0), o((0, M.d)({
                                                title: "Failed to ".concat(l.active ? "unpublish" : "publish", " listing"),
                                                icon: u.eH,
                                                message: null !== (n = null === (a = e.t0.data) || void 0 === a || null === (a = a.error) || void 0 === a ? void 0 : a.message) && void 0 !== n ? n : "Something went wrong",
                                                color: "danger",
                                                timeout: 9e3
                                            }));
                                        case 12:
                                        case "end":
                                            return e.stop()
                                    }
                                }), e, null, [
                                    [0, 8]
                                ])
                            })));
                            return function() {
                                return e.apply(this, arguments)
                            }
                        }());
                    return w.createElement("div", {
                        className: "tw-w-full tw-flex tw-flex-col tw-gap-6"
                    }, w.createElement("div", {
                        className: "tw-w-full"
                    }, !l.active && w.createElement("h4", {
                        className: "tw-text-lg"
                    }, "Publishing this listing will make it available for viewing and purchase, including in any selected store(s)."), l.active && w.createElement("h4", {
                        className: "tw-text-lg"
                    }, "If you move this listing to draft, users won’t be able to view or purchase it. You can republish it at any time. Existing purchases will remain unaffected.")), w.createElement("div", {
                        className: "tw-flex tw-flex-col xs:tw-flex-row tw-gap-3 tw-flex-1"
                    }, w.createElement(g.zx, {
                        type: "button",
                        neutral: !0,
                        onClick: r,
                        containerClasses: "tw-flex-1"
                    }, "Cancel"), w.createElement(g.zx, {
                        type: "button",
                        containerClasses: "tw-flex-1",
                        loading: p,
                        onClick: f
                    }, l.active ? "Move to Draft" : "Publish Listing")))
                };
            J.propTypes = {
                onClose: U().func,
                listing: U().object
            };
            const G = J;
            var q = r(2909),
                B = r(27484),
                $ = r.n(B),
                V = r(97798);
            const _ = function(e) {
                var t = e.active,
                    r = void 0 !== t && t,
                    n = e.editAction,
                    l = void 0 === n ? function() {} : n,
                    o = e.deleteAction,
                    i = void 0 === o ? function() {} : o,
                    c = e.publishAction,
                    s = void 0 === c ? function() {} : c,
                    u = (0, w.useState)(!1),
                    m = (0, a.Z)(u, 2),
                    d = m[0],
                    p = m[1],
                    f = (0, w.useState)(null),
                    b = (0, a.Z)(f, 2),
                    v = b[0],
                    E = b[1],
                    h = (0, w.useRef)(null);
                return (0, w.useEffect)((function() {
                    h.current && E(h.current.getBoundingClientRect())
                }), [h]), w.createElement("div", {
                    onMouseLeave: function() {
                        return p(!1)
                    }
                }, w.createElement(g.zx, {
                    ref: h,
                    className: "tw-h-9 tw-w-9",
                    neutral: !0,
                    onClick: function() {
                        return p(!d)
                    }
                }, w.createElement(g.$1, {
                    icon: V.Uw,
                    size: "1x"
                })), w.createElement(g.JX, {
                    style: {
                        transform: "translate(-".concat(120 - (null == v ? void 0 : v.width), "px, 0px)")
                    },
                    className: "tw-pt-2 tw-min-w-min tw-w-[120px] tw-min-h-min tw-z-50 tw-absolute ".concat(d ? "tw-flex" : "tw-hidden")
                }, w.createElement(g.JX, {
                    className: "tw-items-start tw-bg-button-bg-grey tw-border-2 tw-w-full tw-text-left tw-weight-[500] tw-border-solid tw-border-[#666666] tw-rounded-lg"
                }, w.createElement("button", {
                    type: "button",
                    onClick: l,
                    className: "tw-text-left tw-px-3 tw-py-2 tw-w-full tw-text-option-inactive tw-border-none tw-bg-transparent tw-text-white hover:tw-bg-[#666666]"
                }, "Edit"), w.createElement("button", {
                    type: "button",
                    onClick: s,
                    className: "tw-text-left tw-px-3 tw-py-2 tw-w-full tw-text-option-inactive tw-border-none tw-bg-transparent tw-text-white hover:tw-bg-[#666666]"
                }, r ? "Move to Draft" : "Publish"), w.createElement("hr", {
                    className: "tw-border-t-2 tw-m-0 tw-border-solid tw-w-full tw-border-white"
                }), w.createElement("button", {
                    type: "button",
                    onClick: i,
                    className: "tw-px-3 tw-py-2 tw-text-red tw-text-left tw-border-none tw-w-full tw-bg-transparent hover:tw-bg-[#666666] hover:tw-text-white"
                }, "Delete"))))
            };
            var W = function(e) {
                var t = e.listingData,
                    r = void 0 === t ? null : t,
                    n = e.editListingCallback,
                    a = void 0 === n ? function() {} : n,
                    l = e.deleteListingCallback,
                    o = void 0 === l ? function() {} : l,
                    i = e.publishListingCallback,
                    c = void 0 === i ? function() {} : i,
                    s = (0, j.I0)();
                if (null === r) return null;
                var m = r.id,
                    d = r.displayName,
                    p = r.created,
                    f = r.updated,
                    b = r.active,
                    v = r.groupName;
                return w.createElement(w.Fragment, null, w.createElement("div", {
                    key: m,
                    className: "tw-relative"
                }, w.createElement("div", {
                    className: "tw-grid tw-items-center tw-gap-2 tw-grid-cols-5 @[700px]/subscriptions-heading:tw-grid-cols-7 tw-mx-5 tw-border-b-[1px] tw-border-0 tw-border-solid tw-border-hr-line-color"
                }, w.createElement("div", {
                    title: d,
                    className: "tw-flex tw-items-center tw-min-h-9 tw-my-2 @[800px]/my-subscriptions:tw-max-w-max tw-col-span-2"
                }, w.createElement("p", {
                    className: "tw-truncate @[800px]/my-subscriptions:tw-whitespace-pre-line @[800px]/my-subscriptions:tw-break-words tw-m-0"
                }, d)), w.createElement("div", {
                    className: "tw-block tw-items-center tw-min-h-9 tw-py-2 tw-my-2 tw-truncate @[800px]/my-subscriptions:tw-max-w-max"
                }, v), w.createElement("div", {
                    className: "tw-items-center tw-min-h-9 tw-my-2 tw-truncate tw-max-w-[100px] @[800px]/my-subscriptions:tw-max-w-max tw-hidden @[700px]/my-subscriptions:tw-flex"
                }, $()(p).format("ll")), w.createElement("div", {
                    className: "tw-items-center tw-min-h-9 tw-my-2 tw-truncate tw-max-w-[100px] @[800px]/my-subscriptions:tw-max-w-max tw-hidden @[700px]/my-subscriptions:tw-flex"
                }, $()(f).format("ll")), w.createElement("div", {
                    className: "tw-flex tw-items-center tw-min-h-9 tw-my-2 tw-truncate @[800px]/my-subscriptions:tw-max-w-max"
                }, b ? "Published" : "Draft"), w.createElement(g.X2, {
                    className: "tw-min-h-9 tw-truncate tw-my-2 tw-max-w-[100px] tw-gap-2"
                }, w.createElement(g.zx, {
                    className: "tw-w-9",
                    neutral: !0,
                    onClick: function() {
                        navigator.clipboard.writeText(m).then((function() {
                            s((0, M.d)({
                                title: "Copied subscription ID",
                                icon: X.f8,
                                message: "Subscription ID Copied!",
                                color: "success",
                                timeout: 3e3
                            }))
                        })).catch((function(e) {
                            var t, r;
                            s((0, M.d)({
                                title: "Failed to copy subscription ID",
                                icon: u.eH,
                                message: null !== (t = null === (r = res.error.data) || void 0 === r || null === (r = r.error) || void 0 === r ? void 0 : r.message) && void 0 !== t ? t : "Failed to copy subscription ID",
                                color: "error",
                                timeout: 3e3
                            }))
                        }))
                    }
                }, w.createElement(g.$1, {
                    icon: q.kZ,
                    size: "1x"
                })), w.createElement(_, {
                    active: null == r ? void 0 : r.active,
                    editAction: function() {
                        return a(r)
                    },
                    deleteAction: function() {
                        return o(r)
                    },
                    publishAction: function() {
                        return c(r)
                    }
                })))))
            };
            W.propTypes = {
                listingData: U().object
            };
            const Y = W;
            var Q = r(22717);

            function H(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function K(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? H(Object(r), !0).forEach((function(t) {
                        (0, h.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : H(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var ee = [{
                    label: "Name",
                    value: "displayName"
                }, {
                    label: "Group",
                    value: "groupName"
                }, {
                    label: "Created",
                    value: "created",
                    isSmallColumn: !0,
                    canCollapse: !0
                }, {
                    label: "Updated",
                    value: "updated",
                    isSmallColumn: !0,
                    canCollapse: !0
                }, {
                    label: "Status",
                    value: "status",
                    isSmallColumn: !0
                }, {
                    label: "Actions",
                    value: ""
                }],
                te = [];
            const re = function() {
                var e, t = (0, j.I0)(),
                    r = (0, f.s0)(),
                    n = (0, p.lr)(),
                    l = (0, a.Z)(n, 2),
                    o = l[0],
                    i = (l[1], (0, j.v9)((function(e) {
                        return e.myStoreCreateSubscription
                    }))),
                    c = i.previousStep,
                    s = i.currentStep,
                    u = (0, f.UO)().paginationPage,
                    m = u ? Number(u) : 1,
                    d = (0, w.useState)(""),
                    b = (0, a.Z)(d, 2),
                    v = b[0],
                    h = b[1],
                    D = (0, w.useState)(o.get("sortBy") || null),
                    Z = (0, a.Z)(D, 2),
                    L = Z[0],
                    X = Z[1],
                    M = (0, w.useState)(o.get("orderBy") || "descending"),
                    R = (0, a.Z)(M, 2),
                    U = R[0],
                    J = R[1],
                    q = w.useState({}),
                    B = (0, a.Z)(q, 2),
                    $ = B[0],
                    V = B[1],
                    _ = w.useState(!1),
                    W = (0, a.Z)(_, 2),
                    H = W[0],
                    re = W[1],
                    ne = ((0, P.Z)(v), (0, O.IB)().data),
                    ae = (0, w.useMemo)((function() {
                        return {
                            sellerId: ne.id,
                            n: 50,
                            pageValue: m
                        }
                    }), [m]),
                    le = (0, I.Ul)(K({
                        userId: ne.id,
                        listingType: "subscription"
                    }, ae), {
                        skip: !ne.id,
                        refetchOnMountOrArgChange: !0
                    }),
                    oe = le.data,
                    ie = le.isSuccess,
                    ce = le.isFetching,
                    se = le.isError,
                    ue = le.error;
                (0, w.useEffect)((function() {
                    $.isCreating && V((function(e) {
                        return K(K({}, e), {}, {
                            title: s
                        })
                    }))
                }), [s]);
                var me, de = function(e) {
                        var t = e.title,
                            r = void 0 === t ? "" : t,
                            n = e.data,
                            a = void 0 === n ? void 0 : n,
                            l = e.isCreating,
                            o = void 0 !== l && l,
                            i = e.isEditing,
                            c = void 0 !== i && i,
                            s = e.isDeleting,
                            u = void 0 !== s && s,
                            m = e.isPublishing,
                            d = void 0 !== m && m,
                            w = e.productType,
                            p = void 0 === w ? E.Pm.UDON : w;
                        re(!0), V({
                            title: r,
                            data: a,
                            isCreating: o,
                            isEditing: c,
                            isDeleting: u,
                            isPublishing: d,
                            productType: p
                        })
                    },
                    we = function(e) {
                        de({
                            title: "Edit Subscription",
                            data: e,
                            isEditing: !0,
                            isDeleting: !1,
                            listingType: e.listingType
                        })
                    },
                    pe = function(e) {
                        de({
                            title: "Delete Listing",
                            data: e,
                            isEditing: !1,
                            isDeleting: !0,
                            listingType: e.listingType
                        })
                    },
                    fe = function(e) {
                        de({
                            title: e.active ? "Move to Draft" : "Publish Listing",
                            data: e,
                            isEditing: !1,
                            isDeleting: !1,
                            isPublishing: !0
                        })
                    },
                    ge = function() {
                        re(!1), V({}), t((0, T.IT)(null)), t((0, T.BQ)(!1)), t((0, T.lr)(null)), t((0, T.Bq)("Create Subscription"))
                    },
                    be = function(e) {
                        return L === e
                    },
                    ve = function(e) {
                        if (te.includes(e)) return function(e) {
                            return be(e) ? J("descending" === U ? "ascending" : "descending") : (X(e), J("ascending"))
                        }(e)
                    };
                return w.createElement(w.Fragment, null, w.createElement(g.$4, null, "My Subscriptions"), 0 !== (null == oe ? void 0 : oe.length) || ce || 1 !== m ? w.createElement(w.Fragment, null, w.createElement(g.X2, {
                    className: "tw-justify-between tw-gap-x-5 tw-gap-y-3 tw-flex-wrap tw-mt-6"
                }, w.createElement("div", null, w.createElement(g.II, {
                    icon: C.wn,
                    type: "text",
                    rawInputClassName: "tw-h-9",
                    className: "tw-w-full tw-max-w-[515px] tw-hidden",
                    value: v,
                    onChange: function(e) {
                        return h(e.target.value)
                    },
                    placeholder: "Search by name or listing ID",
                    disabled: !0
                })), w.createElement(g.zx, {
                    "aria-label": "Create Subscription",
                    className: "tw-px-2",
                    onClick: function() {
                        return de({
                            title: s,
                            data: {},
                            isEditing: !1,
                            isCreating: !0,
                            productType: E.Pm.ROLE
                        })
                    }
                }, w.createElement(g.$1, {
                    icon: N.r8,
                    size: "1x"
                }), " Create Subscription")), w.createElement("div", {
                    className: "tw-@container/my-subscriptions tw-rounded-md tw-bg-grey tw-mt-5"
                }, w.createElement("div", {
                    className: "tw-w-full tw-min-w-max tw-table-auto tw-pb-1 tw-@container/subscriptions-heading"
                }, w.createElement("div", {
                    className: "tw-grid tw-gap-1 tw-grid-cols-5 @[700px]/subscriptions-heading:tw-grid-cols-7 tw-border-b-[1px] tw-border-0 tw-border-solid tw-border-hr-line-color tw-pb-3 tw-mx-5"
                }, ee.map((function(e) {
                    var t = e.label,
                        r = e.value,
                        n = e.canCollapse,
                        a = void 0 !== n && n,
                        l = e.isSmallColumn,
                        o = void 0 !== l && l;
                    return w.createElement("span", {
                        key: r,
                        className: "\n                  ".concat(be(r) ? "tw-text-light-white" : "tw-text-light-grey", "\n                  ").concat(a ? "tw-hidden @[700px]/subscriptions-heading:tw-block" : "", "\n                  ").concat(te.includes(r) ? "tw-cursor-pointer" : "tw-cursor-auto", "\n                  ").concat(o ? "tw-max-w-[100px]" : "tw-max-w-auto", "\n                  ").concat("displayName" === r ? "tw-col-span-2" : "tw-col-span-1", "\n                  tw-pt-3 tw-font-normal tw-text-base\n                "),
                        onClick: function() {
                            return ve(r)
                        },
                        onKeyDown: function(e) {
                            if ("Enter" === e.key || "Space" === e.key) return ve(r)
                        },
                        role: "button",
                        tabIndex: 0
                    }, t, te.includes(r) && w.createElement(g.$1, {
                        icon: be(r) && "ascending" === U ? x.fo : y.u9,
                        size: "1x",
                        className: "tw-ml-1 ".concat(be(r) && "ascending" === U ? "tw-align-bottom" : "tw-align-top")
                    }))
                }))), w.createElement("div", {
                    className: "tw-group"
                }, ce ? w.createElement("div", {
                    className: "tw-container tw-flex tw-justify-center tw-p-10"
                }, w.createElement(S.Z, {
                    loading: !0
                })) : se ? w.createElement("div", {
                    className: "tw-container tw-flex tw-flex-col tw-justify-center tw-p-10"
                }, w.createElement("p", null, "Error loading sales data:"), w.createElement("code", null, null !== (me = ue.data.error.message) && void 0 !== me ? me : "Unknown error")) : ie && 0 === (null == oe ? void 0 : oe.length) ? w.createElement("div", {
                    className: "tw-container tw-flex tw-justify-center tw-p-10"
                }, w.createElement("p", {
                    className: "tw-mb-0"
                }, "There are no transactions data to display.")) : ie ? oe.map((function(e) {
                    return w.createElement(Y, {
                        key: e.id,
                        listingData: e,
                        editListingCallback: we,
                        deleteListingCallback: pe,
                        publishListingCallback: fe
                    })
                })) : void 0), w.createElement("div", null, w.createElement(k.Z, {
                    className: "tw-pt-2",
                    totalCount: null !== (e = null == oe ? void 0 : oe.length) && void 0 !== e ? e : 0,
                    showCurrentPageOnly: !0,
                    currentPage: m,
                    pageSize: 50,
                    onPageChange: function(e) {
                        return r("/home/marketplace/storefront/subscriptions/page/".concat(e))
                    }
                }))))) : w.createElement(A, {
                    createSubscription: function() {
                        t((0, T.Bq)("Create Subscription")), de({
                            title: s,
                            data: {},
                            isEditing: !1,
                            isCreating: !0,
                            productType: E.Pm.ROLE
                        })
                    }
                }), w.createElement(g.u_, {
                    title: "createdSubscription" === $.title ? null : $.title,
                    onCloseFinished: ge,
                    isVisible: H,
                    width: "100%",
                    slim: !0,
                    centered: !1,
                    overflow: $.productType === E.Pm.ROLE ? "initial" : "auto",
                    onBackCallback: c ? function() {
                        t((0, T.Bq)(c))
                    } : null,
                    disableBackdropClick: !0,
                    className: "tw-bg-black"
                }, H && $.isCreating && w.createElement(z.default, {
                    user: ne,
                    subscription: $.data,
                    onClose: ge,
                    isEditing: $.isEditing
                }), H && $.isEditing && w.createElement(F.default, {
                    onClose: ge,
                    listingId: $.data.id
                }), H && $.isPublishing && w.createElement(G, {
                    onClose: ge,
                    listing: $.data
                }), H && $.isDeleting && w.createElement(Q.default, {
                    listingId: $.data.id,
                    onCancelCallback: ge
                })))
            };
            var ne = r(66736);
            const ae = function(e) {
                return w.createElement(b.Z, {
                    location: !0,
                    justify: "left",
                    tabs: [{
                        name: "My Sales",
                        to: "/home/marketplace/storefront/revenue/mysales",
                        condition: !0
                    }, {
                        name: "My Subscribers",
                        to: "/home/marketplace/storefront/revenue/mysubscribers",
                        condition: !0
                    }]
                })
            };
            var le = r(41145),
                oe = r(62228),
                ie = r(12227),
                ce = r(56646),
                se = function(e) {
                    var t = e.isExpanded,
                        r = e.transactionData,
                        n = void 0 === r ? null : r,
                        a = e.selfVoidCallback,
                        l = void 0 === a ? function() {} : a;
                    if (null === n) return null;
                    var o = n.formattedSalesSummary,
                        i = n.receiverDisplayName,
                        c = n.listingDisplayName,
                        s = n.listingType,
                        u = n.tiliaTransactionId,
                        m = n.purchaseCurrentStatus,
                        d = n.purchaseQuantity,
                        p = n.purchaseEndDate,
                        f = n.voided,
                        b = n.buyerId,
                        v = n.sellerId,
                        h = n.purchaseId,
                        y = o.listingPrice,
                        x = o.processingFees,
                        N = o.purchaseDuration,
                        C = o.listingEarnings,
                        S = b === v,
                        k = "permanent" === s || "duration" === s,
                        P = !f,
                        O = "duration" !== s || p && $()().isBefore($()(p)),
                        I = S && P && k && O;
                    return w.createElement("div", {
                        className: "tw-@container/sales-summary tw-bg-darker-grey tw-rounded-lg tw-p-5 tw-mb-4 ".concat(t ? "tw-block" : "tw-hidden")
                    }, w.createElement("h4", {
                        className: "heading tw-text-base tw-font-normal tw-text-light-grey"
                    }, w.createElement(g.$1, {
                        icon: ce.faCircleInfo,
                        size: "1x"
                    }), " Sales summary"), w.createElement("hr", {
                        className: "tw-bg-hr-line-color tw-border-0 tw-h-[2px]"
                    }), w.createElement("div", {
                        className: "tw-grid tw-grid-cols-1 tw-gap-3 @sm/sales-summary:tw-grid-cols-2 @md/sales-summary:tw-grid-cols-3"
                    }, w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Buyer"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white"
                    }, i))), c && w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Listing Name"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white"
                    }, c))), s && s === E.ft.INSTANT && d > 1 && w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Quantity"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white"
                    }, d))), (null == y ? void 0 : y.toString()) && w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Listing Price"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white"
                    }, w.createElement(g.b5, {
                        className: "tw-mr-1 tw-text-white"
                    }), y))), m && w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Status"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white tw-capitalize"
                    }, m))), s && w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Listing Type"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white"
                    }, s))), (null == C ? void 0 : C.toString()) && w.createElement("div", {
                        className: !0
                    }, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Listing Earnings"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white"
                    }, w.createElement(g.b5, {
                        className: "tw-mr-1 tw-text-white"
                    }), C))), w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Transaction ID"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-xs tw-text-white"
                    }, u))), N && w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Purchase Duration"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white"
                    }, N))), (null == x ? void 0 : x.toString()) && w.createElement("div", null, w.createElement("div", {
                        className: "tw-text-light-grey tw-font-normal tw-text-xs"
                    }, "Processing Fees"), w.createElement("div", {
                        className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                    }, w.createElement("span", {
                        className: "tw-text-base tw-font-normal tw-text-white"
                    }, w.createElement(g.b5, {
                        className: "tw-mr-1 tw-text-white"
                    }), x))), I && w.createElement("div", null, w.createElement(g.zx, {
                        danger: !0,
                        className: "sm:tw-max-w-fit",
                        onClick: function() {
                            l({
                                purchaseId: h,
                                reason: "self-void",
                                execute: !0
                            })
                        }
                    }, "Void Purchase"))))
                };
            se.propTypes = {
                isExpanded: U().bool,
                transactionData: U().object
            };
            const ue = se;
            var me = function(e) {
                var t, r = e.transactionData,
                    n = void 0 === r ? null : r,
                    l = e.selfVoidCallback,
                    o = void 0 === l ? function() {} : l;
                if (null === n) return null;
                var i = n.formattedSalesSummary,
                    c = n.receiverDisplayName,
                    s = n.listingDisplayName,
                    u = n.listingImageId,
                    m = n.listingType,
                    d = n.transactionId,
                    p = n.purchaseDate,
                    f = (0, w.useState)(!1),
                    b = (0, a.Z)(f, 2),
                    v = b[0],
                    E = b[1];
                "" !== u && (0, ie.qm)({
                    fileId: u,
                    isImage: !0,
                    versionNumber: 1
                });
                return w.createElement("div", {
                    key: d,
                    className: "tw-@container/sales-row tw-border-hr-line-color tw-border-b-[1px] tw-border-t-0 tw-border-x-0 tw-border-solid"
                }, w.createElement("div", {
                    className: "tw-grid tw-gap-1 tw-grid-cols-4 @[590px]/sales-heading:tw-grid-cols-5"
                }, w.createElement("div", {
                    className: "tw-h-9 tw-truncate tw-my-2 tw-max-w-[100px] @[800px]/sales-row:tw-max-w-max"
                }, $()(p).format("L LT")), w.createElement("div", {
                    className: "tw-h-9 tw-my-2 tw-truncate tw-max-w-[100px] @[800px]/sales-row:tw-max-w-max"
                }, s), w.createElement("div", {
                    className: "tw-h-9 tw-my-2 tw-truncate tw-max-w-[100px] @[800px]/sales-row:tw-max-w-max"
                }, m), w.createElement("div", {
                    className: "tw-h-9 tw-my-2 tw-truncate tw-max-w-[100px] @[800px]/sales-row:tw-max-w-max tw-hidden @[590px]/sales-row:tw-block"
                }, w.createElement(g.b5, {
                    className: "tw-mr-1 tw-text-white"
                }), " ", null !== (t = i.listingEarnings) && void 0 !== t ? t : "-"), w.createElement("div", {
                    className: "tw-h-9 tw-truncate tw-my-2"
                }, w.createElement("div", {
                    className: "tw-flex tw-flex-row tw-justify-between"
                }, c, w.createElement(g.zx, {
                    className: "tw-h-9 tw-w-10 tw-text-white tw-bg-button-bg-grey tw-border-none",
                    onClick: function() {
                        return E(!v)
                    }
                }, w.createElement(g.$1, {
                    icon: v ? oe.mT : le.pt,
                    size: "1x"
                }))))), w.createElement(ue, {
                    transactionData: n,
                    isExpanded: v,
                    selfVoidCallback: o
                }))
            };
            me.propTypes = {
                transactionData: U().object
            };
            const de = me;

            function we(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function pe(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? we(Object(r), !0).forEach((function(t) {
                        (0, h.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : we(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var fe = [{
                    label: "Date",
                    value: "purchaseDate"
                }, {
                    label: "Listing Name",
                    value: "name"
                }, {
                    label: "Listing Type",
                    value: "type"
                }, {
                    label: "Earnings",
                    value: "earnings",
                    canCollapse: !0
                }, {
                    label: "Buyer",
                    value: "buyersName"
                }],
                ge = ["purchaseDate", "name"];
            const be = function() {
                var e, t, r, l, o = (0, f.s0)(),
                    i = (0, j.I0)(),
                    c = (0, f.UO)().paginationPage,
                    s = (0, w.useState)("all"),
                    m = (0, a.Z)(s, 2),
                    p = (m[0], m[1], (0, w.useState)("ALL")),
                    b = (0, a.Z)(p, 2),
                    v = (b[0], b[1], (0, w.useState)("")),
                    E = (0, a.Z)(v, 2),
                    h = E[0],
                    N = (E[1], (0, w.useState)(null)),
                    C = (0, a.Z)(N, 2),
                    I = C[0],
                    T = C[1],
                    D = (0, w.useState)("desc"),
                    Z = (0, a.Z)(D, 2),
                    L = Z[0],
                    A = Z[1],
                    F = (0, w.useState)(!1),
                    z = (0, a.Z)(F, 2),
                    R = z[0],
                    U = z[1],
                    J = (0, w.useState)(null),
                    G = (0, a.Z)(J, 2),
                    q = G[0],
                    B = G[1],
                    $ = c ? Number(c) : 1,
                    V = (0, P.Z)(h),
                    _ = (0, O.IB)().data,
                    W = (0, ne.JJ)(pe(pe({
                        sellerId: _.id,
                        n: 50,
                        pageValue: $
                    }, I && {
                        sort: I
                    }), L && {
                        order: L
                    }), {
                        skip: !_.id,
                        refetchOnMountOrArgChange: !1
                    }),
                    Y = W.data,
                    Q = W.isFetching,
                    H = W.isSuccess,
                    K = W.isError,
                    ee = W.error,
                    te = (0, ne.WM)(),
                    re = (0, a.Z)(te, 2),
                    le = re[0],
                    oe = re[1],
                    ie = (oe.isLoading, oe.isSuccess, function(e) {
                        B(e), U(!0)
                    }),
                    ce = function() {
                        var e = (0, n.Z)(d().mark((function e() {
                            var t, r, n;
                            return d().wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (q) {
                                            e.next = 2;
                                            break
                                        }
                                        return e.abrupt("return");
                                    case 2:
                                        return t = function() {
                                            U(!1), B(null), i((0, M.d)({
                                                title: "Purchase Voided!",
                                                icon: X.f8,
                                                message: "Your listing has been voided successfully!",
                                                color: "success",
                                                timeout: 3e3
                                            }))
                                        }, e.prev = 3, e.next = 6, le(q).unwrap();
                                    case 6:
                                        return e.abrupt("return", t());
                                    case 9:
                                        e.prev = 9, e.t0 = e.catch(3), i((0, M.d)({
                                            title: "Failed to void purchase!",
                                            icon: u.eH,
                                            message: null !== (r = null === e.t0 || void 0 === e.t0 || null === (n = e.t0.data) || void 0 === n || null === (n = n.error) || void 0 === n ? void 0 : n.message) && void 0 !== r ? r : "Something went wrong",
                                            color: "danger",
                                            timeout: 3e3
                                        }));
                                    case 12:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [3, 9]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    se = function(e) {
                        return I === e
                    },
                    ue = function(e) {
                        if (ge.includes(e)) return function(e) {
                            return se(e) ? A("desc" === L ? "asc" : "desc") : (T(e), A("asc"))
                        }(e)
                    };
                return w.createElement("div", null, w.createElement(g.$4, null, "My Sales"), w.createElement(ae, null), w.createElement("div", {
                    className: "tw-rounded-md tw-bg-grey tw-mt-5"
                }, w.createElement("div", {
                    className: "tw-w-full tw-min-w-max tw-table-auto tw-pb-1 tw-@container/sales-heading tw-px-5 tw-pt-3"
                }, w.createElement("div", {
                    className: "tw-grid tw-gap-1 tw-grid-cols-4 @[590px]/sales-heading:tw-grid-cols-5 tw-border-hr-line-color tw-border-b-[1px] tw-border-t-0 tw-border-x-0 tw-border-solid tw-pb-2"
                }, fe.map((function(e) {
                    var t = e.label,
                        r = e.value,
                        n = e.canCollapse,
                        a = void 0 !== n && n;
                    return w.createElement("span", {
                        key: r,
                        className: "\n                  ".concat(se(r) ? "tw-text-light-white" : "tw-text-light-grey", "\n                  ").concat(a ? "tw-hidden @[590px]/sales-heading:tw-block" : "", "\n                  ").concat(ge.includes(r) ? "tw-cursor-pointer" : "tw-cursor-auto", "\n                  tw-font-normal tw-text-base\n                "),
                        onClick: function() {
                            return ue(r)
                        },
                        onKeyDown: function(e) {
                            if ("Enter" === e.key || "Space" === e.key) return ue(r)
                        },
                        role: "button",
                        tabIndex: 0
                    }, t, ge.includes(r) && w.createElement(g.$1, {
                        icon: se(r) && "asc" === L ? x.fo : y.u9,
                        size: "1x",
                        className: "tw-ml-1 ".concat(se(r) && "asc" === L ? "tw-align-bottom" : "tw-align-top")
                    }))
                }))), w.createElement("div", {
                    className: "tw-group"
                }, Q ? w.createElement("div", {
                    className: "tw-container tw-flex tw-justify-center tw-p-10"
                }, w.createElement(S.Z, {
                    loading: !0
                })) : K ? w.createElement("div", {
                    className: "tw-container tw-flex tw-flex-col tw-justify-center tw-p-10"
                }, w.createElement("p", null, "Error loading sales data:"), w.createElement("code", null, null !== (l = ee.data.error.message) && void 0 !== l ? l : "Unknown error")) : "" === V && H ? Y.purchases.map((function(e) {
                    return w.createElement(de, {
                        key: e.purchaseId,
                        transactionData: e,
                        selfVoidCallback: ie
                    })
                })) : void 0), 0 === (null == Y || null === (e = Y.purchases) || void 0 === e ? void 0 : e.length) && w.createElement("div", {
                    className: "tw-flex tw-justify-center tw-p-10"
                }, w.createElement("p", null, "There are no sales data to display")), w.createElement("div", null, w.createElement(k.Z, {
                    totalCount: null !== (t = null == Y || null === (r = Y.purchases) || void 0 === r ? void 0 : r.length) && void 0 !== t ? t : 0,
                    showCurrentPageOnly: !0,
                    currentPage: $,
                    pageSize: 50,
                    onPageChange: function(e) {
                        return o("/home/marketplace/storefront/revenue/mysales/page/".concat(e))
                    }
                })))), w.createElement(g.sm, {
                    bodyText: "Are you sure you want to void this self-purchase? Your credit balance will not be affected.",
                    headerText: "Void Self-Purchase",
                    cancelCallback: function() {
                        B(null), U(!1)
                    },
                    confirmCallback: ce,
                    confirmText: "Confirm",
                    cancelText: "Cancel",
                    isOpen: R
                }))
            };
            var ve = r(42138),
                Ee = r(16686),
                he = r(17319),
                ye = function(e) {
                    var t = e.instalmentData,
                        r = void 0 === t ? null : t,
                        n = e.showCancellable,
                        a = void 0 !== n && n;
                    if (null === r) return null;
                    var l = (0, ve.Z)(r).sort((function(e, t) {
                        return $()(e.stackDate).isAfter($()(t.stackDate)) ? 1 : -1
                    }));
                    return w.createElement(w.Fragment, null, l.map((function(e) {
                        var t = e.stackDate,
                            r = e.stackValue,
                            n = e.purchaseId,
                            l = $()(t).isAfter($()());
                        return w.createElement("div", {
                            className: "tw-grid tw-grid-cols-1 tw-gap-3 @sm/subscribers:tw-grid-cols-2 @md/subscribers:tw-grid-cols-3",
                            key: n
                        }, w.createElement("div", null, w.createElement("div", {
                            className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                        }, w.createElement("span", {
                            className: "tw-text-base tw-font-normal tw-text-white"
                        }, $()(t).format("MMMM DD, YYYY")))), w.createElement("div", null, w.createElement("div", {
                            className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                        }, w.createElement("span", {
                            className: "tw-text-base tw-font-normal tw-text-white"
                        }, w.createElement(g.b5, {
                            className: "tw-mr-1 tw-text-white"
                        }), r))), !l && w.createElement("div", null, w.createElement("div", {
                            className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start tw-text-placeholder-text"
                        }, w.createElement(g.$1, {
                            icon: he.di,
                            size: "1x"
                        }), " ", w.createElement("span", {
                            className: "tw-text-base tw-font-bold"
                        }, "Non-refundable"))), l && w.createElement("div", null, w.createElement("div", {
                            className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start tw-text-teal-accent"
                        }, w.createElement(g.$1, {
                            icon: Ee.faCircleCheck,
                            size: "1x"
                        }), " ", w.createElement("span", {
                            className: "tw-text-base tw-font-bold tw-capitalize"
                        }, "Refundable ", w.createElement("span", {
                            className: "tw-font-normal tw-text-white ".concat(a ? "" : "tw-hidden")
                        }, "(to be cancelled)")))))
                    })))
                };
            ye.propTypes = {
                instalmentData: U().array,
                showCancellable: U().bool
            };
            const xe = ye;
            var Ne = function(e) {
                var t = e.isExpanded,
                    r = e.subscriberData,
                    n = void 0 === r ? null : r,
                    a = e.startCancelSubscriptionCallback,
                    l = void 0 === a ? function() {} : a,
                    o = n.buyerDisplayName,
                    i = (n.buyerId, n.listingCurrentlyAvailable, n.listingDescription, n.groupName),
                    c = n.listingDisplayName,
                    s = n.subscriptionExpiry,
                    u = n.subscriptionFirstStarted,
                    m = s && $()(s).isAfter($()());
                return null === n ? null : w.createElement("div", {
                    className: "tw-@container/subscribers tw-bg-darker-grey tw-rounded-lg tw-p-5 tw-mb-4 ".concat(t ? "tw-block" : "tw-hidden")
                }, w.createElement("h4", {
                    className: "heading tw-text-base tw-font-normal tw-text-light-grey"
                }, w.createElement(g.$1, {
                    icon: ce.faCircleInfo,
                    size: "1x"
                }), " Subscription details"), w.createElement("hr", {
                    className: "tw-bg-hr-line-color tw-border-0 tw-h-[2px]"
                }), w.createElement("div", {
                    className: "tw-grid tw-grid-cols-1 tw-gap-3 @sm/subscribers:tw-grid-cols-1 @md/subscribers:tw-grid-cols-4"
                }, w.createElement("div", null, w.createElement("div", {
                    className: "tw-text-light-grey tw-font-normal tw-text-xs"
                }, "Subscriber"), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, o))), c && w.createElement("div", null, w.createElement("div", {
                    className: "tw-text-light-grey tw-font-normal tw-text-xs"
                }, "Listing Name"), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, c))), u && w.createElement("div", null, w.createElement("div", {
                    className: "tw-text-light-grey tw-font-normal tw-text-xs"
                }, "Start Date"), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, $()(u).format("L LT"))))), w.createElement("div", null, w.createElement("div", {
                    className: "tw-text-light-grey tw-font-normal tw-text-xs"
                }, "Manage this subscription"), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, w.createElement(g.zx, {
                    disabled: !m,
                    danger: !0,
                    className: "tw-px-2",
                    onClick: function() {
                        return l({
                            subscriberData: n
                        })
                    },
                    title: m ? "Cancel Subscription" : "Subscription is not active"
                }, "Cancel Subscription")))), i && w.createElement("div", {
                    className: "@md/subscribers:tw-col-start-2"
                }, w.createElement("div", {
                    className: "tw-text-light-grey tw-font-normal tw-text-xs"
                }, "Group"), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, i))), s && w.createElement("div", null, w.createElement("div", {
                    className: "tw-text-light-grey tw-font-normal tw-text-xs"
                }, "Expiry Date"), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, $()(s).format("L LT"))))), w.createElement("h4", {
                    className: "heading tw-text-base tw-font-normal tw-text-light-grey tw-mt-5"
                }, w.createElement(g.$1, {
                    icon: ce.faCircleInfo,
                    size: "1x"
                }), " Subscription Refundability Overview"), w.createElement("hr", {
                    className: "tw-bg-[#242A31] tw-border-0 tw-h-[2px]"
                }), w.createElement(xe, {
                    instalmentData: null == n ? void 0 : n.stacks
                }))
            };
            Ne.propTypes = {};
            const Ce = Ne;
            var Se = function(e) {
                var t = e.subscriberData,
                    r = void 0 === t ? null : t,
                    n = e.startCancelSubscriptionCallback;
                if (null === r) return null;
                var l = r.buyerDisplayName,
                    o = (r.buyerId, r.listingCurrentlyAvailable, r.listingDescription, r.listingDisplayName),
                    i = r.subscriptionExpiry,
                    c = (r.subscriptionFirstStarted, (0, w.useState)(!1)),
                    s = (0, a.Z)(c, 2),
                    u = s[0],
                    m = s[1];
                return w.createElement("div", {
                    className: "tw-border-hr-line-color tw-border-b-[1px] tw-border-t-0 tw-border-x-0 tw-border-solid"
                }, w.createElement("div", {
                    className: "tw-grid tw-gap-1 tw-grid-cols-3"
                }, w.createElement("div", {
                    className: "tw-h-9 tw-my-2 tw-truncate"
                }, l), w.createElement("div", {
                    className: "tw-h-9 tw-my-2 tw-truncate"
                }, o), w.createElement("div", {
                    className: " tw-h-9 tw-truncate tw-my-2"
                }, w.createElement("div", {
                    className: "tw-flex tw-flex-row tw-justify-between"
                }, w.createElement("span", {
                    className: "tw-hidden md:tw-block"
                }, $()(i).format("L LT")), w.createElement("span", {
                    className: "tw-block md:tw-hidden"
                }, $()(i).format("L")), w.createElement(g.zx, {
                    className: "tw-h-9 tw-w-10 tw-text-white tw-bg-button-bg-grey tw-border-none",
                    onClick: function() {
                        return m(!u)
                    }
                }, w.createElement(g.$1, {
                    icon: u ? oe.mT : le.pt,
                    size: "1x"
                }))))), w.createElement(Ce, {
                    subscriberData: r,
                    isExpanded: u,
                    startCancelSubscriptionCallback: n
                }))
            };
            Se.propTypes = {
                transactionData: U().object
            };
            const ke = Se;
            const Pe = function(e) {
                var t, r, n, l, o = (0, O.IB)().data,
                    i = (0, f.UO)().paginationPage,
                    c = i ? Number(i) : 1,
                    s = (0, w.useState)("all"),
                    u = (0, a.Z)(s, 2),
                    m = (u[0], u[1], (0, w.useState)(!1)),
                    d = (0, a.Z)(m, 2),
                    b = d[0],
                    v = d[1],
                    E = (0, w.useState)(null),
                    h = (0, a.Z)(E, 2),
                    y = h[0],
                    x = h[1],
                    N = (0, w.useState)("ALL"),
                    C = (0, a.Z)(N, 2),
                    I = (C[0], C[1], (0, w.useState)(null)),
                    T = (0, a.Z)(I, 2),
                    j = (T[0], T[1], (0, w.useState)("desc")),
                    D = (0, a.Z)(j, 2),
                    Z = (D[0], D[1], (0, w.useState)("")),
                    L = (0, a.Z)(Z, 2),
                    A = L[0],
                    F = (L[1], (0, P.Z)(A)),
                    z = (0, w.useRef)(null),
                    X = (0, ne.x)(),
                    M = (0, a.Z)(X, 2),
                    R = M[0],
                    U = M[1],
                    J = U.isSuccess,
                    G = U.isLoading,
                    q = U.isError,
                    B = U.error,
                    $ = (0, ne.vb)({
                        sellerId: o.id
                    }),
                    V = $.data,
                    _ = $.isFetching,
                    W = $.isSuccess,
                    Y = $.isError,
                    Q = $.error;
                (0, w.useEffect)((function() {
                    J && !q && (v(!1), x(null))
                }), [J, q]);
                var H;
                return w.createElement("div", null, w.createElement(g.$4, null, "My Subscribers"), w.createElement(ae, null), w.createElement(g.sm, {
                    isLoading: G,
                    isOpen: b,
                    confirmCallback: function() {
                        R({
                            buyerId: null == y ? void 0 : y.buyerId,
                            listingId: null == y ? void 0 : y.listingId,
                            reason: null == z ? void 0 : z.current.value,
                            immediate: !0
                        })
                    },
                    cancelCallback: function() {
                        return v(!1)
                    },
                    className: "tw-w-[873px] tw-max-w-[873px]",
                    headerText: "Cancel Instalments"
                }, w.createElement("h3", {
                    className: "heading tw-text-lg tw-mb-0"
                }, "Are you sure you want to cancel the following instalments?"), w.createElement("p", {
                    className: "tw-text-base tw-text-light-grey tw-mt-0"
                }, "Only refundable portions will be cancelled."), w.createElement("div", {
                    className: "tw-rounded tw-bg-grey tw-p-4 tw-@container/subscribers"
                }, w.createElement("div", {
                    className: "tw-grid tw-grid-cols-2 tw-gap-3"
                }, w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, "Listing Name")), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, "Buyer")), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal tw-text-white"
                }, null == y ? void 0 : y.listingDisplayName)), w.createElement("div", {
                    className: "tw-rounded tw-border-2 tw-flex tw-flex-row tw-py-1 tw-items-center tw-justify-start"
                }, w.createElement(p.rU, {
                    to: "/home/user/".concat(null == y ? void 0 : y.buyerId),
                    target: "_blank",
                    rel: "noreferrer"
                }, w.createElement("span", {
                    className: "tw-text-base tw-font-normal"
                }, null == y ? void 0 : y.buyerDisplayName)))), w.createElement("hr", {
                    className: "tw-bg-hr-line-color tw-border-0 tw-h-[2px]"
                }), w.createElement(xe, {
                    instalmentData: null == y ? void 0 : y.stacks,
                    showCancellable: !0
                })), q && !J && w.createElement("div", {
                    className: "tw-mt-3"
                }, w.createElement("p", {
                    className: "tw-text-error-message-red tw-flex tw-flex-col"
                }, "Failed to cancel subscription:", w.createElement("code", {
                    className: "tw-mt-1 tw-text-error-message-red"
                }, null !== (t = B.data.error.message) && void 0 !== t ? t : "Something went wrong"))), w.createElement("h3", {
                    className: "heading tw-text-sm tw-mt-5"
                }, "Please provide the reason for cancellation"), w.createElement(g.II, {
                    type: "text",
                    name: "cancel-reason",
                    required: !0,
                    ref: z,
                    placeholder: "Reason for cancellation"
                })), w.createElement("div", {
                    className: "tw-rounded-md tw-bg-grey tw-mt-5"
                }, w.createElement("div", {
                    className: "tw-w-full tw-min-w-max tw-table-auto tw-pb-1 tw-@container/sales-heading tw-px-5 tw-pt-3"
                }, w.createElement("div", {
                    className: "tw-grid tw-gap-1 tw-grid-cols-3 tw-border-hr-line-color tw-border-b-[1px] tw-border-t-0 tw-border-x-0 tw-border-solid tw-pb-2"
                }, [{
                    label: "Subscriber",
                    value: ""
                }, {
                    label: "Listing Name",
                    value: ""
                }, {
                    label: "Expiry Date",
                    value: ""
                }].map((function(e) {
                    var t = e.label,
                        r = e.value;
                    return w.createElement("span", {
                        key: r,
                        className: "\n                  tw-font-normal tw-text-base tw-cursor-auto\n                "
                    }, t)
                }))), w.createElement("div", {
                    className: "tw-group"
                }, _ ? w.createElement("div", {
                    className: "tw-container tw-flex tw-justify-center tw-p-10"
                }, w.createElement(S.Z, {
                    loading: !0
                })) : Y ? w.createElement("div", {
                    className: "tw-container tw-flex tw-flex-col tw-justify-center tw-p-10"
                }, w.createElement("p", null, "Error loading sales data:"), w.createElement("code", null, null !== (H = Q.data.error.message) && void 0 !== H ? H : "Unknown error")) : "" === F && W ? V.map((function(e) {
                    return w.createElement(ke, {
                        key: "".concat(e.buyerId, "-").concat(e.listingId),
                        subscriberData: e,
                        startCancelSubscriptionCallback: function(e) {
                            var t = e.subscriberData;
                            x(t), v(!0)
                        }
                    })
                })) : void 0), 0 === (null == V || null === (r = V.purchases) || void 0 === r ? void 0 : r.length) && w.createElement("div", {
                    className: "tw-flex tw-justify-center tw-p-10"
                }, w.createElement("p", null, "There are no subscribers data to display")), w.createElement("div", null, w.createElement(k.Z, {
                    totalCount: null !== (n = null == V || null === (l = V.purchases) || void 0 === l ? void 0 : l.length) && void 0 !== n ? n : 0,
                    showCurrentPageOnly: !0,
                    currentPage: c,
                    pageSize: 50,
                    onPageChange: function(e) {
                        return navigate("/home/marketplace/storefront/revenue/mysales/page/".concat(e))
                    }
                })))))
            };
            var Oe = r(17383),
                Ie = r(6655),
                Te = r(64358),
                je = r(19933);

            function De(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function Ze(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? De(Object(r), !0).forEach((function(t) {
                        (0, h.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : De(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var Le = function() {
                var e, t = (0, O.XC)().data,
                    r = null == t ? void 0 : t.id,
                    l = (0, Ie.gI)({
                        skip: !r
                    }),
                    o = (0, a.Z)(l, 2),
                    i = o[0],
                    c = o[1],
                    s = (0, f.oQ)("/home/marketplace/storefront".concat(null !== (e = location) && void 0 !== e && null !== (e = e.state) && void 0 !== e && e.redirectTo ? "?redirectTo=".concat(encodeURIComponent(location.state.redirectTo)) : "")),
                    u = function() {
                        var e = (0, n.Z)(d().mark((function e(t) {
                            var n, a, l;
                            return d().wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        return t.preventDefault(), n = new URL(s, window.location.href), e.next = 4, i(Ze(Ze({}, Te.$Z.CREATE_ACCOUNT), {}, {
                                            userId: r,
                                            returnUrl: n
                                        })).unwrap();
                                    case 4:
                                        a = e.sent, l = a.redirect, window.location.assign(l);
                                    case 7:
                                    case "end":
                                        return e.stop()
                                }
                            }), e)
                        })));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }();
                return w.createElement("div", {
                    className: "tw-container tw-flex tw-flex-col tw-items-center tw-bg-darker-grey tw-rounded-lg tw-mt-6 tw-p-12"
                }, w.createElement(g.$1, {
                    icon: Ee.faCircleCheck,
                    size: "xl",
                    className: "tw-w-[72px] tw-h-[72px] tw-mb-5"
                }), w.createElement("h1", {
                    className: "tw-font-bold heading"
                }, "Create your Tilia account"), w.createElement("p", {
                    className: "tw-mt-0"
                }, "Secure your first step toward selling by registering your account on Tilia, our payment provider."), w.createElement(g.zx, {
                    className: "tw-mb-3 tw-px-6",
                    "aria-label": "Get Started with Tilia and review Tilia TOS",
                    onClick: u,
                    disabled: c.isLoading,
                    loading: c.isLoading,
                    expand: !1
                }, "Get Started with Tilia"))
            };
            Le.propTypes = {};
            const Ae = Le;
            var Fe = r(49959),
                ze = r(10487),
                Xe = r.n(ze),
                Me = function() {
                    return w.createElement("div", {
                        className: "tw-container tw-flex tw-flex-col tw-items-center tw-bg-darker-grey tw-rounded-lg tw-mt-6 tw-p-12"
                    }, w.createElement("h1", {
                        className: "tw-font-bold heading"
                    }, "Start Selling in the Marketplace"), w.createElement("img", {
                        src: Xe(),
                        alt: "VRChat Avatars",
                        className: "tw-max-h-80"
                    }), w.createElement(p.rU, {
                        to: "https://www.surveymonkey.com/r/econ-app",
                        target: "_blank"
                    }, w.createElement(g.zx, {
                        className: "tw-mb-3 tw-px-6"
                    }, "Apply to Become a Seller")), w.createElement(p.rU, {
                        to: "https://creators.vrchat.com/economy/",
                        target: "_blank"
                    }, "Learn more"), w.createElement("div", {
                        className: "tw-mt-5"
                    }, w.createElement("p", {
                        className: "tw-mb-5"
                    }, "Join the growing community of creators and start earning from your digital creations. You can sell:"), w.createElement("ul", {
                        className: "tw-font-bold tw-mb-5"
                    }, w.createElement("li", null, "Avatars"), w.createElement("li", null, "In-world effects, passes, key accesses"), w.createElement("li", null, "Group Subscriptions"), w.createElement("li", null, "And more!"))))
                };
            Me.propTypes = {};
            const Re = Me;
            var Ue = r(81577),
                Je = r.n(Ue),
                Ge = w.lazy((function() {
                    return Promise.all([r.e(1959), r.e(6065)]).then(r.bind(r, 16065))
                })),
                qe = w.lazy((function() {
                    return Promise.all([r.e(5842), r.e(2621), r.e(8122)]).then(r.bind(r, 38122))
                })),
                Be = w.lazy((function() {
                    return r.e(267).then(r.bind(r, 20267))
                })),
                $e = w.lazy((function() {
                    return r.e(1651).then(r.bind(r, 51651))
                })),
                Ve = w.lazy((function() {
                    return r.e(9028).then(r.bind(r, 99028))
                }));
            const _e = function(e) {
                var t, r, m, h, y, x, N, C, S, k, P, I, T, j, D, Z = e.marketPlaceStatus,
                    L = (0, Oe.Tu)({
                        withEconomyAccount: !0
                    }),
                    A = L.user,
                    F = L.isLoading,
                    z = (0, p.lr)(),
                    X = (0, a.Z)(z, 2),
                    M = X[0],
                    R = X[1],
                    U = w.useState(!1),
                    J = (0, a.Z)(U, 2),
                    G = J[0],
                    q = J[1],
                    B = w.useState(!1),
                    $ = (0, a.Z)(B, 2),
                    V = $[0],
                    _ = $[1],
                    W = Object.fromEntries(M.entries()),
                    Y = null == A ? void 0 : A.id,
                    Q = Z.isEconomyOffline,
                    H = (Z.isPlannedMaintenanceSoon, Z.plannedOfflineWindowStart),
                    K = Z.plannedOfflineWindowEnd,
                    ee = Z.offlineReason,
                    te = Z.isTiliaStatusLoading,
                    ae = Z.isTiliaStatusError,
                    le = (0, O.q7)(),
                    oe = le.data,
                    ie = void 0 === oe ? [] : oe,
                    ce = le.isFetching,
                    se = le.isError,
                    ue = le.error,
                    me = (0, ne.mW)(),
                    de = (0, a.Z)(me, 2),
                    we = de[0],
                    pe = de[1].isLoading,
                    fe = (null == A || null === (t = A.economyAccount) || void 0 === t ? void 0 : t.accountSellerStatus) === E.dd.INVITED,
                    ge = null == ie ? void 0 : ie.includes("permission-can-sell-products"),
                    ve = (0, Ie.v$)({
                        userId: Y
                    }, {
                        skip: !Y || !fe && !ge || Q,
                        refetchOnMountOrArgChange: !0
                    }),
                    Ee = ve.data,
                    he = ve.isLoading,
                    ye = ve.isError,
                    xe = ve.error,
                    Ne = null == Ee ? void 0 : Ee.signed_tos,
                    Ce = (0, Ie.gq)({
                        userId: Y
                    }, {
                        skip: !Y || !fe && !ge || Q,
                        refetchOnMountOrArgChange: !0
                    }),
                    Se = (Ce.data, Ce.isLoading),
                    ke = Ce.isError,
                    De = Ce.error,
                    Ze = (0, Ie.kN)({
                        userId: Y
                    }, {
                        skip: !Y || !fe && !ge || Q
                    }),
                    Le = Ze.data,
                    ze = void 0 === Le ? {} : Le,
                    Xe = ze.eligible,
                    Me = ze.reason,
                    Ue = Ze.isLoading,
                    _e = Ze.isError,
                    We = Ze.error,
                    Ye = (0, Ie.pp)({
                        userId: Y,
                        type: "earnings"
                    }, {
                        skip: !Y,
                        refetchOnMountOrArgChange: !0
                    }),
                    Qe = Ye.data,
                    He = ((void 0 === Qe ? {
                        balance: 0
                    } : Qe).balance, Ye.isLoading),
                    Ke = Ye.isError,
                    et = Ye.error,
                    tt = function() {
                        var e = (0, n.Z)(d().mark((function e() {
                            var t;
                            return d().wrap((function(e) {
                                for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        if (t = "complete" === (null == W ? void 0 : W.state), e.prev = 1, !t || ge) {
                                            e.next = 5;
                                            break
                                        }
                                        return e.next = 5, we().unwrap();
                                    case 5:
                                        e.next = 10;
                                        break;
                                    case 7:
                                        e.prev = 7, e.t0 = e.catch(1), console.error("Not able to onboard seller:", e.t0);
                                    case 10:
                                        return e.prev = 10, R({}), e.finish(10);
                                    case 13:
                                    case "end":
                                        return e.stop()
                                }
                            }), e, null, [
                                [1, 7, 10, 13]
                            ])
                        })));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }();
                w.useEffect((function() {
                    tt()
                }), []);
                var rt = null == A || null === (r = A.economyAccount) || void 0 === r ? void 0 : r.canEarn,
                    nt = (null == A || null === (m = A.economyAccount) || void 0 === m ? void 0 : m.accountSellerStatus) === E.dd.SUSPENDED,
                    at = ge && !nt && !rt,
                    lt = te || F || ce || he || He || Se || pe || Ue,
                    ot = (0, Te.dj)(H),
                    it = ae || Q || ye || _e || Ke || se || ke || at;
                if (lt) return w.createElement(w.Fragment, null, w.createElement(g.UU, {
                    className: "tw-mb-4",
                    height: "80px",
                    radius: "8"
                }), w.createElement(g.UU, {
                    delay: "50",
                    height: "480px",
                    radius: "8"
                }));
                return lt ? w.createElement(w.Fragment, null, w.createElement(g.UU, {
                    className: "tw-mb-4",
                    height: "80px",
                    radius: "8"
                }), w.createElement(g.UU, {
                    delay: "50",
                    height: "480px",
                    radius: "8"
                })) : w.createElement(g.JX, {
                    className: "pb-5"
                }, w.createElement(g.$4, null, "My Store"), "complete" === (null == W ? void 0 : W.state) && (null == W ? void 0 : W.redirectTo) && w.createElement(g.qX, {
                    type: "success",
                    title: "You're ready to go!"
                }, "Now you can ", w.createElement(p.rU, {
                    to: null == W ? void 0 : W.redirectTo
                }, "pick up where you left off"), "."), it && w.createElement(g.qX, {
                    type: Q ? "warn" : "error",
                    title: Q ? "Storefront Offline" : "Something strange happened"
                }, Q && w.createElement(w.Fragment, null, w.createElement("p", {
                    className: "tw-m-0"
                }, "Storefront Currently Offline: ", null != ee ? ee : "Unknown Reason"), w.createElement("p", {
                    className: "tw-m-0"
                }, "Projected Service Return: ", (0, Te.M4)(K))), ae && w.createElement("p", {
                    className: "tw-m-0"
                }, "Error getting Tilia online status: ", tiliaStatusError.status, " ", null !== (h = null === (y = tiliaStatusError.data) || void 0 === y || null === (y = y.error) || void 0 === y ? void 0 : y.message) && void 0 !== h ? h : "Unknown error"), ue && w.createElement("p", {
                    className: "tw-m-0"
                }, "Error looking up user permissions: ", ue.status, " ", null !== (x = null === (N = ue.data) || void 0 === N ? void 0 : N.error.message) && void 0 !== x ? x : "Unknown error"), ye && w.createElement("p", {
                    className: "tw-m-0"
                }, "Error looking up Tilia ToS acceptance: ", xe.status, " ", null !== (C = null === (S = xe.data) || void 0 === S ? void 0 : S.error.message) && void 0 !== C ? C : "Unknown error"), ke && w.createElement("p", {
                    className: "tw-m-0"
                }, "Error looking up Tilia identity verification status: ", De.status, " ", null !== (k = null === (P = De.data) || void 0 === P ? void 0 : P.error.message) && void 0 !== k ? k : "Unknown error"), _e && w.createElement("p", {
                    className: "tw-m-0"
                }, "Error looking up your eligibility to pay out: ", We.status, " ", null !== (I = null === (T = We.data) || void 0 === T ? void 0 : T.error.message) && void 0 !== I ? I : "Unknown error"), at && w.createElement("p", {
                    className: "tw-m-0"
                }, "This account is not eligible to earn credits from current listings at this time.", " ", w.createElement(p.rU, {
                    to: "https://vrch.at/marketplace-help",
                    target: "_blank",
                    className: "tw-flex-1 tw-m-0"
                }, "Please contact support for more information"), "."), Ke && w.createElement("p", {
                    className: "tw-m-0"
                }, "Error looking up credit balance: ", et.status, " ", null !== (j = null === (D = et.data) || void 0 === D ? void 0 : D.error.message) && void 0 !== j ? j : "Unknown error")), ot && !Q && w.createElement(g.qX, {
                    type: "warn",
                    title: "Marketplace Maintenance"
                }, w.createElement("p", {
                    className: "tw-m-0"
                }, "Starts: ", (0, Te.M4)(H)), w.createElement("p", {
                    className: "tw-m-0"
                }, "Ends: ", (0, Te.M4)(K)), w.createElement("p", {
                    className: "tw-m-0"
                }, "In-game credit purchases/transactions will be unavailable during this period. We apologize for the inconvenience.")), !Xe && Me && !Q && w.createElement(g.qX, {
                    type: "warn",
                    title: "Issue with payout eligibility"
                }, "blocked" === Me && w.createElement("p", {
                    className: "tw-m-0"
                }, "You are currently blocked from receiving payouts. Please contact VRChat support for more information."), "kyc_required" === Me && w.createElement("p", {
                    className: "tw-m-0"
                }, "You must complete the KYC process before you can receive payouts. Please contact VRChat support for more information."), "kyc_pending" === Me && w.createElement("p", {
                    className: "tw-m-0"
                }, "Your KYC has been recieved and is pending approval from Tilia. Please check back later."), "limit_exceeded" === Me && w.createElement("p", {
                    className: "tw-m-0"
                }, "You have exceeded the payout limit. Please contact VRChat support for more information."), "cooldown" === Me && w.createElement("p", {
                    className: "tw-m-0"
                }, "You have exceeded the payout transaction limit. Please wait two weeks before making your next payout transaction.")), nt ? w.createElement(g.JX, {
                    className: "tw-items-center tw-justify-center tw-gap-4"
                }, w.createElement(g.$1, {
                    icon: u.eH,
                    width: 250,
                    className: "tw-text-error-message-red"
                }), w.createElement("h2", null, "There is a problem with your CE account"), w.createElement("h4", null, w.createElement(p.rU, {
                    to: "https://vrch.at/marketplace-help",
                    target: "_blank",
                    className: "tw-flex-1 tw-m-0"
                }, "Please contact support for more information"))) : fe || ge ? ge ? w.createElement(w.Fragment, null, w.createElement(je.Z, {
                    isSeller: !0,
                    isTiliaTOSAccepted: Ne,
                    returnPath: "/home/marketplace/storefront/dashboard",
                    termsOfServiceMessage: "Tilia's Terms of Service have been changed. Please accept them before managing your store."
                }), w.createElement("div", {
                    className: "tw-relative"
                }, w.createElement("div", {
                    className: "tw-relative"
                }, w.createElement(g.oI, null, V && w.createElement("div", {
                    className: "tw-w-full tw-h-full tw-opacity-75 tw-bg-black tw-absolute tw-z-10 tw-top-0 tw-bottom-0 tw-left-0"
                }), w.createElement("h4", {
                    className: "fw-normal mb-0"
                }, "My Store"))), w.createElement(g.Ao, null, w.createElement("div", {
                    className: "tw-relative tw-mb-4"
                }, V && w.createElement("div", {
                    className: "tw-w-full tw-h-full tw-opacity-75 tw-bg-black tw-absolute tw-z-10 tw-top-0 tw-bottom-0 tw-left-0"
                }), w.createElement(b.Z, {
                    justify: "left",
                    tabs: [{
                        name: "Overview",
                        to: "dashboard",
                        icon: s.St,
                        condition: !0
                    }, {
                        name: "My Products",
                        to: "products",
                        icon: c.G1,
                        condition: !0
                    }, {
                        name: "My Subscriptions",
                        to: "subscriptions",
                        icon: Fe.Z,
                        condition: !0
                    }, {
                        name: "My Listings",
                        to: "listings",
                        icon: i.LE,
                        condition: !0
                    }, {
                        name: "Store Manager",
                        to: "stores",
                        icon: o.vJ,
                        condition: !0
                    }, {
                        name: "Revenue",
                        to: "revenue",
                        icon: l.dL,
                        condition: !0
                    }]
                })), w.createElement(w.Suspense, {
                    fallback: w.createElement(g.UU, {
                        delay: "50",
                        height: "480px",
                        radius: "8"
                    })
                }, w.createElement(f.Z5, null, w.createElement(f.AW, {
                    path: "/",
                    element: w.createElement(v.Z, {
                        to: "dashboard"
                    })
                }), w.createElement(f.AW, {
                    path: "dashboard",
                    element: w.createElement(Ge, null)
                }), w.createElement(f.AW, {
                    path: "stores",
                    element: w.createElement($e, null)
                }), w.createElement(f.AW, {
                    path: "stores/:storeId",
                    element: w.createElement(Ve, {
                        onOrderStore: function() {
                            return _(!V)
                        }
                    })
                }), w.createElement(f.AW, {
                    path: "products",
                    element: w.createElement(v.Z, {
                        to: "../products/page/1"
                    })
                }), w.createElement(f.AW, {
                    path: "products/page/:paginationPage",
                    element: w.createElement(qe, null)
                }), w.createElement(f.AW, {
                    path: "products/moderation",
                    element: w.createElement(v.Z, {
                        to: "../products/moderation/page/1"
                    })
                }), w.createElement(f.AW, {
                    path: "products/:productTab/page/:paginationPage",
                    element: w.createElement(qe, null)
                }), w.createElement(f.AW, {
                    path: "subscriptions",
                    element: w.createElement(v.Z, {
                        to: "../subscriptions/page/1"
                    })
                }), w.createElement(f.AW, {
                    path: "subscriptions/page/:paginationPage",
                    element: w.createElement(re, null)
                }), w.createElement(f.AW, {
                    path: "listings",
                    element: w.createElement(v.Z, {
                        to: "../listings/page/1"
                    })
                }), w.createElement(f.AW, {
                    path: "listings/page/:paginationPage",
                    element: w.createElement(Be, null)
                }), w.createElement(f.AW, {
                    path: "revenue",
                    element: w.createElement(v.Z, {
                        to: "mysales"
                    })
                }), w.createElement(f.AW, {
                    path: "revenue/mysales",
                    element: w.createElement(v.Z, {
                        to: "../revenue/mysales/page/1"
                    })
                }), w.createElement(f.AW, {
                    path: "revenue/mysales/page/:paginationPage",
                    element: w.createElement(be, null)
                }), w.createElement(f.AW, {
                    path: "revenue/mysubscribers",
                    element: w.createElement(Pe, null)
                }))), w.createElement(g.sm, {
                    headerText: "Congratulations!",
                    confirmText: "Done",
                    isOpen: G,
                    confirmCallback: function() {
                        return q(!1)
                    },
                    cancelCallback: function() {
                        return q(!1)
                    },
                    hideCancel: !0
                }, w.createElement(g.X2, {
                    className: "tw-items-center tw-gap-6 tw-flex-wrap"
                }, w.createElement("img", {
                    src: Je(),
                    alt: "Storefront Robot",
                    className: "tw-mx-auto tw-w-[180px] tw-flex-1"
                }), w.createElement("p", {
                    className: "tw-m-0 tw-font-bold tw-text-lg tw-flex-1"
                }, "Thank you for completing the Tilia Process, now you are ready to sell and receive payouts!")))))) : w.createElement(Ae, null) : w.createElement(Re, null))
            }
        },
        67978: (e, t, r) => {
            "use strict";
            r.d(t, {
                As: () => p,
                DM: () => f,
                RM: () => b,
                lZ: () => g,
                qX: () => v,
                rP: () => d,
                wE: () => E,
                x3: () => w,
                xq: () => h
            });
            var n = r(15861),
                a = r(42138),
                l = r(4942),
                o = r(64687),
                i = r.n(o),
                c = r(64358);

            function s(e, t) {
                var r = Object.keys(e);
                if (Object.getOwnPropertySymbols) {
                    var n = Object.getOwnPropertySymbols(e);
                    t && (n = n.filter((function(t) {
                        return Object.getOwnPropertyDescriptor(e, t).enumerable
                    }))), r.push.apply(r, n)
                }
                return r
            }

            function u(e) {
                for (var t = 1; t < arguments.length; t++) {
                    var r = null != arguments[t] ? arguments[t] : {};
                    t % 2 ? s(Object(r), !0).forEach((function(t) {
                        (0, l.Z)(e, t, r[t])
                    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : s(Object(r)).forEach((function(t) {
                        Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                    }))
                }
                return e
            }
            var m = r(61509).S.injectEndpoints({
                    endpoints: function(e) {
                        return {
                            getUserProducts: e.query({
                                query: function(e) {
                                    var t = e.userId,
                                        r = e.n,
                                        n = void 0 === r ? 100 : r,
                                        a = (e.offset, e.archived),
                                        l = e.pageValue,
                                        o = void 0 === l ? 1 : l;
                                    return {
                                        url: "user/".concat(t, "/products"),
                                        params: u({
                                            archived: a
                                        }, (0, c.ue)({
                                            n,
                                            pageValue: o
                                        }))
                                    }
                                },
                                providesTags: function(e, t, r) {
                                    var n = r.userId;
                                    return [].concat((0, a.Z)(e ? e.map((function(e) {
                                        return {
                                            type: "Product",
                                            id: e.id
                                        }
                                    })) : []), [{
                                        type: "UserProducts",
                                        id: "PARTIAL-LIST:".concat(n)
                                    }])
                                }
                            }),
                            getAllUserProducts: e.query({
                                queryFn: (l = (0, n.Z)(i().mark((function e(t, r, n, l) {
                                    var o, c, s, u, m;
                                    return i().wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                o = t.userId, c = t.archived, s = [], u = 0;
                                            case 3:
                                                return e.next = 6, l({
                                                    url: "user/".concat(o, "/products"),
                                                    params: {
                                                        archived: c,
                                                        n: 100,
                                                        offset: u
                                                    }
                                                });
                                            case 6:
                                                if (!(m = e.sent).error) {
                                                    e.next = 9;
                                                    break
                                                }
                                                return e.abrupt("return", {
                                                    error: m.error
                                                });
                                            case 9:
                                                if (!(m.data.length > 0)) {
                                                    e.next = 13;
                                                    break
                                                }
                                                return s.push.apply(s, (0, a.Z)(m.data)), u += 100, e.abrupt("continue", 3);
                                            case 13:
                                                return e.abrupt("break", 16);
                                            case 16:
                                                return e.abrupt("return", {
                                                    data: s
                                                });
                                            case 17:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                }))), function(e, t, r, n) {
                                    return l.apply(this, arguments)
                                }),
                                providesTags: function(e, t, r) {
                                    var n = r.userId;
                                    return [].concat((0, a.Z)(e ? e.map((function(e) {
                                        return {
                                            type: "Product",
                                            id: e.id
                                        }
                                    })) : []), [{
                                        type: "UserProducts",
                                        id: "FULL-LIST:".concat(n)
                                    }])
                                }
                            }),
                            getListingProducts: e.query({
                                query: function(e) {
                                    var t = e.listingId;
                                    return "listing/".concat(t, "/products")
                                },
                                providesTags: function(e, t, r) {
                                    var n = r.listingId;
                                    return [].concat((0, a.Z)(e ? e.map((function(e) {
                                        return {
                                            type: "Product",
                                            id: e.id
                                        }
                                    })) : []), [{
                                        type: "ListingProducts",
                                        id: n
                                    }])
                                }
                            }),
                            getProduct: e.query({
                                query: function(e) {
                                    var t = e.productId;
                                    return "products/".concat(t)
                                },
                                providesTags: function(e, t, r) {
                                    return [{
                                        type: "Product",
                                        id: r.productId
                                    }]
                                }
                            }),
                            createProduct: e.mutation({
                                queryFn: (r = (0, n.Z)(i().mark((function e(t, r, a, l) {
                                    var o, c, s, m, d, w, p, f, g, b, v, E, h, y, x, N, C, S, k, P, O, I, T, j, D;
                                    return i().wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                if (c = t.avatarId, s = t.description, m = void 0 === s ? "" : s, d = t.displayName, w = t.duration, p = t.durationType, f = t.file, g = void 0 === f ? null : f, b = t.generateListing, v = t.imageId, E = void 0 === v ? null : v, h = t.instant, y = t.permanent, x = t.priceTokens, N = t.productType, C = t.tag, S = void 0 === C ? "product" : C, k = t.tags, P = void 0 === k ? [] : k, O = t.useForSubscriberList, I = void 0 !== O && O, null === g) {
                                                    e.next = 7;
                                                    break
                                                }
                                                return e.next = 4, (0, n.Z)(i().mark((function e() {
                                                    var t, r;
                                                    return i().wrap((function(e) {
                                                        for (;;) switch (e.prev = e.next) {
                                                            case 0:
                                                                return (t = new FormData).append("file", g), t.append("tag", S), e.next = 5, l({
                                                                    url: "file/image",
                                                                    method: "POST",
                                                                    body: t
                                                                });
                                                            case 5:
                                                                if (!(r = e.sent).error) {
                                                                    e.next = 8;
                                                                    break
                                                                }
                                                                return e.abrupt("return", {
                                                                    error: r.error
                                                                });
                                                            case 8:
                                                                return e.abrupt("return", r);
                                                            case 9:
                                                            case "end":
                                                                return e.stop()
                                                        }
                                                    }), e)
                                                })))();
                                            case 4:
                                                e.t0 = e.sent, e.next = 8;
                                                break;
                                            case 7:
                                                e.t0 = null;
                                            case 8:
                                                if (null == (T = e.t0) || !T.error) {
                                                    e.next = 11;
                                                    break
                                                }
                                                return e.abrupt("return", {
                                                    error: T.error
                                                });
                                            case 11:
                                                return j = (null == T || null === (o = T.data) || void 0 === o ? void 0 : o.id) || E, e.next = 14, l({
                                                    url: "products",
                                                    method: "POST",
                                                    body: u(u({
                                                        description: m,
                                                        displayName: d,
                                                        duration: w,
                                                        durationType: p,
                                                        generateListing: b,
                                                        instant: h,
                                                        permanent: y,
                                                        priceTokens: x,
                                                        productType: N,
                                                        tags: P,
                                                        useForSubscriberList: I
                                                    }, c && {
                                                        avatarId: c
                                                    }), j && {
                                                        imageId: j
                                                    })
                                                });
                                            case 14:
                                                if (!(D = e.sent).error) {
                                                    e.next = 17;
                                                    break
                                                }
                                                return e.abrupt("return", {
                                                    error: D.error
                                                });
                                            case 17:
                                                return e.abrupt("return", {
                                                    data: u({
                                                        product: D.data
                                                    }, (null == T ? void 0 : T.data) && {
                                                        file: T.data
                                                    })
                                                });
                                            case 18:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                }))), function(e, t, n, a) {
                                    return r.apply(this, arguments)
                                }),
                                invalidatesTags: function(e, t, r) {
                                    var n = r.ownerId,
                                        l = r.tag;
                                    return [].concat((0, a.Z)(e ? [{
                                        type: "Product",
                                        id: e.id
                                    }] : []), ["UserProducts", {
                                        type: "FilesForTag",
                                        id: "PARTIAL-LIST:".concat(l)
                                    }, {
                                        type: "UserGalleryPictures",
                                        id: n
                                    }], (0, a.Z)(e ? [{
                                        type: "File",
                                        id: e.id
                                    }] : []))
                                }
                            }),
                            updateProduct: e.mutation({
                                queryFn: (t = (0, n.Z)(i().mark((function e(t, r, n, a) {
                                    var l, o, c, s, m, d, w, p, f, g, b, v, E, h, y, x, N, C;
                                    return i().wrap((function(e) {
                                        for (;;) switch (e.prev = e.next) {
                                            case 0:
                                                if (c = t.file, s = void 0 === c ? null : c, m = t.tag, d = void 0 === m ? "product" : m, w = t.productId, p = t.displayName, f = t.description, g = t.tags, b = void 0 === g ? null : g, v = t.imageId, E = t.groupAccess, h = t.groupAccessRemove, y = t.useForSubscriberList, x = null, null === s) {
                                                    e.next = 11;
                                                    break
                                                }
                                                return (N = new FormData).append("file", s), N.append("tag", d), e.next = 8, a({
                                                    url: "file/image",
                                                    method: "POST",
                                                    body: N
                                                });
                                            case 8:
                                                if (!(x = e.sent).error) {
                                                    e.next = 11;
                                                    break
                                                }
                                                return e.abrupt("return", {
                                                    error: x.error
                                                });
                                            case 11:
                                                return e.next = 13, a({
                                                    url: "products/".concat(w),
                                                    method: "PUT",
                                                    body: u(u({
                                                        displayName: p,
                                                        description: f
                                                    }, null !== b ? b : {}), {}, {
                                                        groupAccess: E,
                                                        groupAccessRemove: h,
                                                        useForSubscriberList: y,
                                                        imageId: x ? null === (l = x) || void 0 === l || null === (l = l.data) || void 0 === l ? void 0 : l.id : v
                                                    })
                                                });
                                            case 13:
                                                if (!(C = e.sent).error) {
                                                    e.next = 16;
                                                    break
                                                }
                                                return e.abrupt("return", {
                                                    error: C.error
                                                });
                                            case 16:
                                                return e.abrupt("return", {
                                                    data: u({
                                                        product: C.data
                                                    }, (null === (o = x) || void 0 === o ? void 0 : o.data) && {
                                                        file: x.data
                                                    })
                                                });
                                            case 17:
                                            case "end":
                                                return e.stop()
                                        }
                                    }), e)
                                }))), function(e, r, n, a) {
                                    return t.apply(this, arguments)
                                }),
                                invalidatesTags: function(e, t, r) {
                                    var n = r.productId,
                                        l = r.ownerId,
                                        o = r.tag;
                                    return [{
                                        type: "Product",
                                        id: n
                                    }, "UserProducts", {
                                        type: "GroupRoles"
                                    }, {
                                        type: "FilesForTag",
                                        id: "PARTIAL-LIST:".concat(o)
                                    }, {
                                        type: "UserGalleryPictures",
                                        id: l
                                    }].concat((0, a.Z)(e ? [{
                                        type: "File",
                                        id: e.id
                                    }] : []))
                                }
                            }),
                            deleteProduct: e.mutation({
                                query: function(e) {
                                    var t = e.productId,
                                        r = e.force;
                                    return {
                                        url: "products/".concat(t),
                                        method: "DELETE",
                                        params: {
                                            force: r
                                        }
                                    }
                                },
                                invalidatesTags: function(e, t, r) {
                                    var n = r.productId;
                                    r.ownerId;
                                    return [{
                                        type: "Product",
                                        id: n
                                    }, "UserProducts", "Stores", {
                                        type: "Store"
                                    }]
                                }
                            })
                        };
                        var t, r, l
                    },
                    overrideExisting: !1
                }).enhanceEndpoints({
                    addTagTypes: ["ListingProducts", "UserProducts", "Product"]
                }),
                d = m.useGetUserProductsQuery,
                w = m.useGetAllUserProductsQuery,
                p = m.useLazyGetAllUserProductsQuery,
                f = m.useGetListingProductsQuery,
                g = m.useGetProductQuery,
                b = m.useLazyGetProductQuery,
                v = m.useCreateProductMutation,
                E = m.useUpdateProductMutation,
                h = m.useDeleteProductMutation
        },
        10487: (e, t, r) => {
            e.exports = {
                srcSet: r.p + "9061b2ae1be00387-720w.png 720w",
                images: [{
                    path: r.p + "9061b2ae1be00387-720w.png",
                    width: 720,
                    height: 558
                }],
                src: r.p + "9061b2ae1be00387-720w.png",
                toString: function() {
                    return r.p + "9061b2ae1be00387-720w.png"
                },
                width: 720,
                height: 558
            }
        },
        81577: (e, t, r) => {
            e.exports = {
                srcSet: r.p + "ce4112f225262a6c-645w.png 645w",
                images: [{
                    path: r.p + "ce4112f225262a6c-645w.png",
                    width: 645,
                    height: 457
                }],
                src: r.p + "ce4112f225262a6c-645w.png",
                toString: function() {
                    return r.p + "ce4112f225262a6c-645w.png"
                },
                width: 645,
                height: 457
            }
        }
    }
]);
//# sourceMappingURL=5de1a4d614f15c1c6b7a7e67d5d47a1edfea6a019a0ed23d576ebbe223c09dc1.js.map